/*! For license information please see main.2c42b5dd.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:o.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var w=y.prototype=new b;w.constructor=y,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:k.current}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+N(l,0):a,_(s)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),T(s,t,i,"",function(e){return e})):null!=s&&(j(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(C,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",_(e))for(var u=0;u<e.length;u++){var c=a+N(o=e[u],u);l+=T(o,t,i,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(o=e.next()).done;)l+=T(o=o.value,t,i,c=a+N(o,u++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",function(e){return t.call(n,e,i++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},$={transition:null},I={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:$,ReactCurrentOwner:k};function A(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=y,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=$.transition;$.transition={};try{e()}finally{$.transition=t}},t.unstable_act=A,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},210:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(829)),a=r(n(736)),s=n(745);class o{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new i.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:i=!1,count:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL(`${this.url}/rpc/${e}`);let l;r||i?(t=r?"HEAD":"GET",Object.entries(n).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?`{${n.join(",")}}`:`${n}`]}).forEach(e=>{let[t,n]=e;o.searchParams.append(t,n)})):(t="POST",l=n);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new a.default({method:t,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,$(x);else{var t=r(c);null!==t&&I(_,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,b(j),j=-1),p=!0;var a=f;try{for(w(n),h=r(u);null!==h&&(!(h.expirationTime>n)||e&&!T());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(u)&&i(u),w(n)}else i(u);h=r(u)}if(null!==h)var l=!0;else{var d=r(c);null!==d&&I(_,d.startTime-n),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,E=null,j=-1,C=5,N=-1;function T(){return!(t.unstable_now()-N<C)}function P(){if(null!==E){var e=t.unstable_now();N=e;var n=!0;try{n=E(!0,e)}finally{n?k():(S=!1,E=null)}}else S=!1}if("function"===typeof y)k=function(){y(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=P,k=function(){R.postMessage(null)}}else k=function(){v(P,0)};function $(e){E=e,S||(S=!0,k())}function I(e,n){j=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,$(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(b(j),j=-1):g=!0,I(_,a-s))):(e.sortIndex=o,n(u,e),m||p||(m=!0,$(x))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},286:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(630)),a=r(n(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,r;let i=null,s=null,o=null,l=e.status,u=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(s="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),a=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&a&&a.length>1&&(o=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(i={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,o=null,l=406,u="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(s=[],i=null,l=200,u="OK")}catch(c){404===e.status&&""===t?(l=204,u="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(r=null===i||void 0===i?void 0:i.details)||void 0===r?void 0:r.includes("0 rows"))&&(i=null,l=200,u="OK"),i&&this.shouldThrowOnError)throw new a.default(i)}return{error:i,data:s,count:o,status:l,statusText:u}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,n,r;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},374:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(286));class a extends i.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i="undefined"===typeof r?"offset":`${r}.offset`,a="undefined"===typeof r?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.Accept)&&void 0!==s?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=a},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},400:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},579:(e,t,n)=>{e.exports=n(153)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{n.r(t),n.d(t,{Headers:()=>s,Request:()=>o,Response:()=>l,default:()=>a,fetch:()=>i});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const i=r.fetch,a=r.fetch.bind(r),s=r.Headers,o=r.Request,l=r.Response},730:(e,t,n)=>{var r=n(43),i=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var $=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var D=!1;function U(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{D=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){Q(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,Se=null;function Ee(e){if(e=yi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),xe(e.stateNode,e.type,t))}}function je(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ne(e,t){return e(t)}function Te(){}var Pe=!1;function Oe(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ne(e,t,n)}finally{Pe=!1,(null!==ke||null!==Se)&&(Te(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var $e=!1;if(c)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){$e=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ce){$e=!1}function Ae(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Le=!1,Me=null,Fe=!1,De=null,Ue={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,a,s,o,l){Le=!1,Me=null,Ae.apply(Ue,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qe(i),e;if(s===r)return qe(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Qe=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=dt(o):0!==(a&=s)&&(r=dt(a))}else 0!==(s=n&~i)?r=dt(s):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,xt,kt,St,Et,jt=!1,Ct=[],Nt=null,Tt=null,Pt=null,Ot=new Map,Rt=new Map,$t=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=bi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Et(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Dt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){jt=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Pt&&Ft(Pt)&&(Pt=null),Ot.forEach(Dt),Rt.forEach(Dt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,jt||(jt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&zt(Nt,e),null!==Tt&&zt(Tt,e),null!==Pt&&zt(Pt,e),Ot.forEach(t),Rt.forEach(t),n=0;n<$t.length;n++)(r=$t[n]).blockedOn===e&&(r.blockedOn=null);for(;0<$t.length&&null===(n=$t[0]).blockedOn;)Mt(n),null===n.blockedOn&&$t.shift()}var Wt=w.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=yt,a=Wt.transition;Wt.transition=null;try{yt=1,Kt(e,t,n,r)}finally{yt=i,Wt.transition=a}}function Vt(e,t,n,r){var i=yt,a=Wt.transition;Wt.transition=null;try{yt=4,Kt(e,t,n,r)}finally{yt=i,Wt.transition=a}}function Kt(e,t,n,r){if(qt){var i=Jt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),At(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Lt(Nt,e,t,n,r,i),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(At(e,r),4&t&&-1<It.indexOf(e)){for(;null!==i;){var a=yi(i);if(null!==a&&_t(a),null===(a=Jt(e,t,n,r))&&qr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Jt(e,t,n,r){if(Gt=null,null!==(e=bi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(un),dn=M({},un,{view:0,detail:0}),hn=an(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(fn),mn=an(M({},fn,{dataTransfer:0})),gn=an(M({},dn,{relatedTarget:0})),vn=an(M({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=M({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(bn),wn=an(M({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return Sn}var jn=M({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(jn),Nn=an(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Pn=an(M({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(On),$n=[9,13,27,32],In=c&&"CompositionEvent"in window,An=null;c&&"documentMode"in document&&(An=document.documentMode);var Ln=c&&"TextEvent"in window&&!An,Mn=c&&(!In||An&&8<An&&11>=An),Fn=String.fromCharCode(32),Dn=!1;function Un(e,t){switch(e){case"keyup":return-1!==$n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){je(r),0<(t=Vr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,Kn=null;function Gn(e){Fr(e,0)}function Jn(e){if(K(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Qn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),Kn=Vn=null)}function nr(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];Hn(t,Kn,e,_e(e)),Oe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function ar(e,t){if("click"===e)return Jn(t)}function sr(e,t){if("input"===e||"change"===e)return Jn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var s=cr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,br=null,yr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Vr(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},Sr={};function Er(e){if(kr[e])return kr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var jr=Er("animationend"),Cr=Er("animationiteration"),Nr=Er("animationstart"),Tr=Er("transitionend"),Pr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Pr.set(e,t),l(t,[e])}for(var $r=0;$r<Or.length;$r++){var Ir=Or[$r];Rr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Rr(jr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(Nr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Tr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,l,u){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var c=Me;Le=!1,Me=null,Fe||(Fe=!0,De=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Mr(i,o,u),a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Mr(i,o,u),a=l}}}if(Fe)throw e=De,Fe=!1,De=null,e}function Dr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,s.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Ur("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Vt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!$e||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=bi(o)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}o=o.parentNode}}r=r.return}Oe(function(){var r=a,i=_e(n),s=[];e:{var o=Pr.get(e);if(void 0!==o){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case jr:case Cr:case Nr:l=vn;break;case Tr:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(p,h))&&c.push(Hr(p,m,f)))),d)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),s.push({event:o,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!bi(u)&&!u[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?bi(u):null)&&(u!==(d=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Nn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wi(l),f=null==u?o:wi(u),(o=new c(m,p+"leave",l,n,i)).target=d,o.relatedTarget=f,m=null,bi(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)c=Kr(c),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Kr(c),h=Kr(h)}c=null}else c=null;null!==l&&Gr(s,o,l,c,!1),null!==u&&null!==d&&Gr(s,d,u,c,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(qn(o))if(Qn)g=sr;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,br=null);break;case"focusout":br=vr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,wr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,i)}var b;if(In)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Bn?Un(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Bn&&(b=en()):(Xt="value"in(Qt=i)?Qt.value:Qt.textContent,Bn=!0)),0<(v=Vr(r,y)).length&&(y=new wn(y,e,null,n,i),s.push({event:y,listeners:v}),b?y.data=b:null!==(b=zn(n))&&(y.data=b))),(b=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Dn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!In&&Un(e,t)?(e=en(),Zt=Xt=Qt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=b))}Fr(s,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Re(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=Re(n,a))&&s.unshift(Hr(n,l,o)):i||null!=(l=Re(n,a))&&s.push(Hr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Jr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function bi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[fi]||null}var xi=[],ki=-1;function Si(e){return{current:e}}function Ei(e){0>ki||(e.current=xi[ki],xi[ki]=null,ki--)}function ji(e,t){ki++,xi[ki]=e.current,e.current=t}var Ci={},Ni=Si(Ci),Ti=Si(!1),Pi=Ci;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function $i(){Ei(Ti),Ei(Ni)}function Ii(e,t,n){if(Ni.current!==Ci)throw Error(a(168));ji(Ni,t),ji(Ti,n)}function Ai(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,W(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Pi=Ni.current,ji(Ni,e),ji(Ti,Ti.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ai(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ti),Ei(Ni),ji(Ni,e)):Ei(Ti),ji(Ti,n)}var Fi=null,Di=!1,Ui=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=yt;try{var n=Fi;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Di=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Ze,Bi),i}finally{yt=t,Ui=!1}}return null}var Wi=[],qi=0,Hi=null,Vi=0,Ki=[],Gi=0,Ji=null,Yi=1,Qi="";function Xi(e,t){Wi[qi++]=Vi,Wi[qi++]=Hi,Hi=e,Vi=t}function Zi(e,t,n){Ki[Gi++]=Yi,Ki[Gi++]=Qi,Ki[Gi++]=Ji,Ji=e;var r=Yi;e=Qi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yi=1<<32-st(t)+i|n<<i|r,Qi=a+e}else Yi=1<<a|n<<i|r,Qi=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=Wi[--qi],Wi[qi]=null,Vi=Wi[--qi],Wi[qi]=null;for(;e===Ji;)Ji=Ki[--Gi],Ki[Gi]=null,Qi=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function sa(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Yi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ua(e){if(ia){var t=ra;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=ui(n.nextSibling);var r=na;t&&oa(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)sa(e,t),t=ui(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ui(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ui(e.nextSibling)}function fa(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=w.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ba(e){return(0,e._init)(e._payload)}function ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=$u(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&ba(a)===t.type)?((r=i(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Iu(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Au(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Iu(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case x:return(t=Fu(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=Au(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?u(e,t,n,r):null;case x:return n.key===i?c(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||A(n))return null!==i?null:d(e,t,n,r,null);va(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||A(r))return d(t,e=e.get(n)||null,r,i,null);va(t,r)}return null}function m(i,a,o,l){for(var u=null,c=null,d=a,m=a=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=s(v,a,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===o.length)return n(i,d),ia&&Xi(i,m),u;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(a=s(d,a,m),null===c?u=d:c.sibling=d,c=d);return ia&&Xi(i,m),u}for(d=r(i,d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=s(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(i,e)}),ia&&Xi(i,m),u}function g(i,o,l,u){var c=A(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var d=c=null,m=o,g=o=0,v=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=f(i,m,b.value,u);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(i,m),o=s(y,o,g),null===d?c=y:d.sibling=y,d=y,m=v}if(b.done)return n(i,m),ia&&Xi(i,g),c;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=h(i,b.value,u))&&(o=s(b,o,g),null===d?c=b:d.sibling=b,d=b);return ia&&Xi(i,g),c}for(m=r(i,m);!b.done;g++,b=l.next())null!==(b=p(m,i,g,b.value,u))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),o=s(b,o,g),null===d?c=b:d.sibling=b,d=b);return e&&m.forEach(function(e){return t(i,e)}),ia&&Xi(i,g),c}return function e(r,a,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var u=s.key,c=a;null!==c;){if(c.key===u){if((u=s.type)===k){if(7===c.tag){n(r,c.sibling),(a=i(c,s.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===R&&ba(u)===c.type){n(r,c.sibling),(a=i(c,s.props)).ref=ga(r,c,s),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===k?((a=Au(s.props.children,r.mode,l,s.key)).return=r,r=a):((l=Iu(s.type,s.key,s.props,null,r.mode,l)).ref=ga(r,a,s),l.return=r,r=l)}return o(r);case x:e:{for(c=s.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=i(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fu(s,r.mode,l)).return=r,r=a}return o(r);case R:return e(r,a,(c=s._init)(s._payload),l)}if(te(s))return m(r,a,s,l);if(A(s))return g(r,a,s,l);va(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,s)).return=r,r=a):(n(r,a),(a=Mu(s,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var wa=ya(!0),_a=ya(!1),xa=Si(null),ka=null,Sa=null,Ea=null;function ja(){Ea=Sa=ka=null}function Ca(e){var t=xa.current;Ei(xa),e._currentValue=t}function Na(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t){ka=e,Ea=Sa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Pa(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},null===Sa){if(null===ka)throw Error(a(308));Sa=e,ka.dependencies={lanes:0,firstContext:e}}else Sa=Sa.next=e;return t}var Oa=null;function Ra(e){null===Oa?Oa=[e]:Oa.push(e)}function $a(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ra(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ia(e,r)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ma(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ia(e,n)}return null===(i=r.interleaved)?(t.next=t,Ra(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ia(e,n)}function Ua(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function za(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===s?a=u:s.next=u,s=l;var c=e.alternate;null!==c&&((o=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,c=u=l=null,o=a;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Aa=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=d}}function Wa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var qa={},Ha=Si(qa),Va=Si(qa),Ka=Si(qa);function Ga(e){if(e===qa)throw Error(a(174));return e}function Ja(e,t){switch(ji(Ka,t),ji(Va,e),ji(Ha,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ha),ji(Ha,t)}function Ya(){Ei(Ha),Ei(Va),Ei(Ka)}function Qa(e){Ga(Ka.current);var t=Ga(Ha.current),n=le(t,e.type);t!==n&&(ji(Va,e),ji(Ha,n))}function Xa(e){Va.current===e&&(Ei(Ha),Ei(Va))}var Za=Si(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var rs=w.ReactCurrentDispatcher,is=w.ReactCurrentBatchConfig,as=0,ss=null,os=null,ls=null,us=!1,cs=!1,ds=0,hs=0;function fs(){throw Error(a(321))}function ps(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,i,s){if(as=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Xs:Zs,e=n(r,i),cs){s=0;do{if(cs=!1,ds=0,25<=s)throw Error(a(301));s+=1,ls=os=null,t.updateQueue=null,rs.current=eo,e=n(r,i)}while(cs)}if(rs.current=Qs,t=null!==os&&null!==os.next,as=0,ls=os=ss=null,us=!1,t)throw Error(a(300));return e}function gs(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function bs(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(a(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function ys(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=bs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=os,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var d=c.lane;if((as&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=h,o=r):u=u.next=h,ss.lanes|=d,Ll|=d}c=c.next}while(null!==c&&c!==s);null===u?o=r:u.next=l,or(r,t.memoizedState)||(yo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ss.lanes|=s,Ll|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _s(e){var t=bs(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);or(s,t.memoizedState)||(yo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function xs(){}function ks(e,t){var n=ss,r=bs(),i=t(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,yo=!0),r=r.queue,As(js.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ps(9,Es.bind(null,n,r,i,t),void 0,null),null===Tl)throw Error(a(349));0!==(30&as)||Ss(n,t,i)}return i}function Ss(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Es(e,t,n,r){t.value=n,t.getSnapshot=r,Cs(t)&&Ns(e)}function js(e,t,n){return n(function(){Cs(t)&&Ns(e)})}function Cs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ns(e){var t=Ia(e,1);null!==t&&nu(t,e,1,-1)}function Ts(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,ss,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Os(){return bs().memoizedState}function Rs(e,t,n,r){var i=vs();ss.flags|=e,i.memoizedState=Ps(1|t,n,void 0,void 0===r?null:r)}function $s(e,t,n,r){var i=bs();r=void 0===r?null:r;var a=void 0;if(null!==os){var s=os.memoizedState;if(a=s.destroy,null!==r&&ps(r,s.deps))return void(i.memoizedState=Ps(t,n,a,r))}ss.flags|=e,i.memoizedState=Ps(1|t,n,a,r)}function Is(e,t){return Rs(8390656,8,e,t)}function As(e,t){return $s(2048,8,e,t)}function Ls(e,t){return $s(4,2,e,t)}function Ms(e,t){return $s(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ds(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,$s(4,4,Fs.bind(null,t,e),n)}function Us(){}function zs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ws(e,t,n){return 0===(21&as)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ss.lanes|=n,Ll|=n,e.baseState=!0),t)}function qs(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{yt=n,is.transition=r}}function Hs(){return bs().memoizedState}function Vs(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gs(e))Js(t,n);else if(null!==(n=$a(e,t,n,r))){nu(n,e,r,eu()),Ys(n,t,r)}}function Ks(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gs(e))Js(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(i.next=i,Ra(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=$a(e,t,i,r))&&(nu(n,e,r,i=eu()),Ys(n,t,r))}}function Gs(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Js(e,t){cs=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Qs={readContext:Pa,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Xs={readContext:Pa,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Pa,useEffect:Is,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4194308,4,Fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vs.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Ts,useDebugValue:Us,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Ts(!1),t=e[0];return e=qs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ss,i=vs();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tl)throw Error(a(349));0!==(30&as)||Ss(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Is(js.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,Es.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Tl.identifierPrefix;if(ia){var n=Qi;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zs={readContext:Pa,useCallback:zs,useContext:Pa,useEffect:As,useImperativeHandle:Ds,useInsertionEffect:Ls,useLayoutEffect:Ms,useMemo:Bs,useReducer:ws,useRef:Os,useState:function(){return ws(ys)},useDebugValue:Us,useDeferredValue:function(e){return Ws(bs(),os.memoizedState,e)},useTransition:function(){return[ws(ys)[0],bs().memoizedState]},useMutableSource:xs,useSyncExternalStore:ks,useId:Hs,unstable_isNewReconciler:!1},eo={readContext:Pa,useCallback:zs,useContext:Pa,useEffect:As,useImperativeHandle:Ds,useInsertionEffect:Ls,useLayoutEffect:Ms,useMemo:Bs,useReducer:_s,useRef:Os,useState:function(){return _s(ys)},useDebugValue:Us,useDeferredValue:function(e){var t=bs();return null===os?t.memoizedState=e:Ws(t,os.memoizedState,e)},useTransition:function(){return[_s(ys)[0],bs().memoizedState]},useMutableSource:xs,useSyncExternalStore:ks,useId:Hs,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Fa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nu(t,e,i,r),Ua(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),a=Fa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nu(t,e,i,r),Ua(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Fa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nu(t,e,r,n),Ua(t,e,r))}};function io(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function ao(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Pa(a):(i=Ri(t)?Pi:Ni.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},La(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Pa(a):(a=Ri(t)?Pi:Ni.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(no(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Ba(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function co(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Hl=r),co(0,t)},n}function po(e,t,n){(n=Fa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){co(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){co(0,t),"function"!==typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bo=w.ReactCurrentOwner,yo=!1;function wo(e,t,n,r){t.child=null===e?_a(t,null,n,r):wa(t,e.child,n,r)}function _o(e,t,n,r,i){n=n.render;var a=t.ref;return Ta(t,i),r=ms(e,t,n,r,a,i),n=gs(),null===e||yo?(ia&&n&&ea(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function xo(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ru(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Iu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ko(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return qo(e,t,i)}return t.flags|=1,(e=$u(a,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(yo=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qo(e,t,i);0!==(131072&e.flags)&&(yo=!0)}}return jo(e,t,n,r,i)}function So(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ji($l,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ji($l,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,ji($l,Rl),Rl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,ji($l,Rl),Rl|=r;return wo(e,t,i,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jo(e,t,n,r,i){var a=Ri(n)?Pi:Ni.current;return a=Oi(t,a),Ta(t,i),n=ms(e,t,n,r,a,i),r=gs(),null===e||yo?(ia&&r&&ea(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function Co(e,t,n,r,i){if(Ri(n)){var a=!0;Li(t)}else a=!1;if(Ta(t,i),null===t.stateNode)Wo(e,t),ao(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Pa(u):u=Oi(t,u=Ri(n)?Pi:Ni.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==u)&&so(t,s,r,u),Aa=!1;var h=t.memoizedState;s.state=h,Ba(t,r,s,i),l=t.memoizedState,o!==r||h!==l||Ti.current||Aa?("function"===typeof c&&(no(t,n,c,r),l=t.memoizedState),(o=Aa||io(t,n,o,r,h,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ma(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:to(t.type,o),s.props=u,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Pa(l):l=Oi(t,l=Ri(n)?Pi:Ni.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==l)&&so(t,s,r,l),Aa=!1,h=t.memoizedState,s.state=h,Ba(t,r,s,i);var p=t.memoizedState;o!==d||h!==p||Ti.current||Aa?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(u=Aa||io(t,n,u,r,h,p,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,a,i)}function No(e,t,n,r,i,a){Eo(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Mi(t,n,!1),qo(e,t,a);r=t.stateNode,bo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wa(t,e.child,null,a),t.child=wa(t,null,o,a)):wo(e,t,o,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),Ja(e,t.containerInfo)}function Po(e,t,n,r,i){return fa(),pa(i),t.flags|=256,wo(e,t,n,r),t.child}var Oo,Ro,$o,Io,Ao={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,i=t.pendingProps,s=Za.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),ji(Za,1&s),null===e)return ua(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lu(l,i,0,null),e=Au(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Ao,e):Fo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,Do(e,t,o,r=uo(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Lu({mode:"visible",children:r.children},i,0,null),(s=Au(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wa(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Ao,s);if(0===(1&t.mode))return Do(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Do(e,t,o,r=uo(s=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(r=Tl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ia(e,i),nu(r,e,i,-1))}return mu(),Do(e,t,o,r=uo(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cu.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ra=ui(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Gi++]=Yi,Ki[Gi++]=Qi,Ki[Gi++]=Ji,Yi=e.id,Qi=e.overflow,Ji=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(o){o=i.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=$u(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=$u(r,o):(o=Au(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ao,i}return e=(o=e.child).sibling,i=$u(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Do(e,t,n,r){return null!==r&&pa(r),wa(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Na(e.return,t,n)}function zo(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Za.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ji(Za,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===es(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,a);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=$u(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$u(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ho(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vo(t),null;case 1:case 17:return Ri(t.type)&&$i(),Vo(t),null;case 3:return r=t.stateNode,Ya(),Ei(Ti),Ei(Ni),ns(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(su(aa),aa=null))),Ro(e,t),Vo(t),null;case 5:Xa(t);var i=Ga(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Vo(t),null}if(e=Ga(Ha.current),da(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[fi]=s,e=0!==(1&t.mode),n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(i=0;i<Ar.length;i++)Dr(Ar[i],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":Y(r,s),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Dr("invalid",r);break;case"textarea":ie(r,s),Dr("invalid",r)}for(var l in be(n,s),i=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,u,e),i=["children",""+u]):o.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Dr("scroll",r)}switch(n){case"input":V(r),Z(r,s,!0);break;case"textarea":V(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,Oo(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),i=r;break;case"iframe":case"object":case"embed":Dr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ar.length;i++)Dr(Ar[i],e);i=r;break;case"source":Dr("error",e),i=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),i=r;break;case"details":Dr("toggle",e),i=r;break;case"input":Y(e,r),i=J(e,r),Dr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Dr("invalid",e)}for(s in be(n,i),u=i)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?ge(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Dr("scroll",e):null!=c&&y(e,s,c,l))}switch(n){case"input":V(e),Z(e,r,!1);break;case"textarea":V(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vo(t),null;case 6:if(e&&null!=t.stateNode)Io(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ga(Ka.current),Ga(Ha.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Vo(t),null;case 13:if(Ei(Za),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,s=!1;else if(s=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vo(t),s=!1}else null!==aa&&(su(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Il&&(Il=3):mu())),null!==t.updateQueue&&(t.flags|=4),Vo(t),null);case 4:return Ya(),Ro(e,t),null===e&&Br(t.stateNode.containerInfo),Vo(t),null;case 10:return Ca(t.type._context),Vo(t),null;case 19:if(Ei(Za),null===(s=t.memoizedState))return Vo(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ho(s,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,Ho(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ji(Za,1&Za.current|2),t.child}e=e.sibling}null!==s.tail&&Qe()>Bl&&(t.flags|=128,r=!0,Ho(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=es(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ho(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ia)return Vo(t),null}else 2*Qe()-s.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ho(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qe(),t.sibling=null,n=Za.current,ji(Za,r?1&n|2:1&n),t):(Vo(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Vo(t),6&t.subtreeFlags&&(t.flags|=8192)):Vo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Go(e,t){switch(ta(t),t.tag){case 1:return Ri(t.type)&&$i(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ya(),Ei(Ti),Ei(Ni),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xa(t),null;case 13:if(Ei(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(Za),null;case 4:return Ya(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(){},$o=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ga(Ha.current);var a,s=null;switch(n){case"input":i=J(e,i),r=J(e,r),s=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in be(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(o.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(o.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Dr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},Io=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jo=!1,Yo=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Su(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Su(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Yo||Zo(n,t);case 6:var r=cl,i=dl;cl=null,hl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,hl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Yo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Su(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Yo=(r=Yo)||null!==n.memoizedState,hl(e,t,n),Yo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qo),t.forEach(function(t){var r=Nu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(a(160));fl(s,o,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Su(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Su(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Su(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Su(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&Q(i,s),ye(l,o);var c=ye(l,s);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):y(i,d,h,c)}switch(l){case"input":X(i,s);break;case"textarea":ae(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(i,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[fi]=s}catch(g){Su(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Su(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Su(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Qe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yo=(c=Yo)||d,ml(t,e),Yo=c):ml(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Xo=e,d=e.child;null!==d;){for(h=Xo=d;null!==Xo;){switch(p=(f=Xo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Su(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==p?(p.return=f,Xo=p):_l(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,c?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(u=h.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",o))}catch(g){Su(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){Su(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ol(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(a(161))}}catch(o){Su(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Xo=e,yl(e,t,n)}function yl(e,t,n){for(var r=0!==(1&e.mode);null!==Xo;){var i=Xo,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Jo;if(!s){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Jo;var u=Yo;if(Jo=s,(Yo=l)&&!u)for(Xo=i;null!==Xo;)l=(s=Xo).child,22===s.tag&&null!==s.memoizedState?xl(i):null!==l?(l.return=s,Xo=l):xl(i);for(;null!==a;)Xo=a,yl(a,t,n),a=a.sibling;Xo=i,Jo=o,Yo=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xo=a):wl(e)}}function wl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Wa(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Wa(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Yo||512&t.flags&&il(t)}catch(f){Su(t,t.return,f)}}if(t===e){Xo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xo=n;break}Xo=t.return}}function _l(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xo=n;break}Xo=t.return}}function xl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Su(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Su(t,i,l)}}var a=t.return;try{il(t)}catch(l){Su(t,a,l)}break;case 5:var s=t.return;try{il(t)}catch(l){Su(t,s,l)}}}catch(l){Su(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var kl,Sl=Math.ceil,El=w.ReactCurrentDispatcher,jl=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Nl=0,Tl=null,Pl=null,Ol=0,Rl=0,$l=Si(0),Il=0,Al=null,Ll=0,Ml=0,Fl=0,Dl=null,Ul=null,zl=0,Bl=1/0,Wl=null,ql=!1,Hl=null,Vl=null,Kl=!1,Gl=null,Jl=0,Yl=0,Ql=null,Xl=-1,Zl=0;function eu(){return 0!==(6&Nl)?Qe():-1!==Xl?Xl:Xl=Qe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Ol?Ol&-Ol:null!==ma.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,Ql=null,Error(a(185));vt(e,n,r),0!==(2&Nl)&&e===Tl||(e===Tl&&(0===(2&Nl)&&(Ml|=n),4===Il&&ou(e,Ol)),ru(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Bl=Qe()+500,Di&&Bi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=ft(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ht(e,e===Tl?Ol:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Di=!0,zi(e)}(lu.bind(null,e)):zi(lu.bind(null,e)),si(function(){0===(6&Nl)&&Bi()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Xl=-1,Zl=0,0!==(6&Nl))throw Error(a(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Nl;Nl|=2;var s=pu();for(Tl===e&&Ol===t||(Wl=null,Bl=Qe()+500,hu(e,t));;)try{bu();break}catch(l){fu(e,l)}ja(),El.current=s,Nl=i,null!==Pl?t=0:(Tl=null,Ol=0,t=Il)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=au(e,i))),1===t)throw n=Al,hu(e,0),ou(e,r),ru(e,Qe()),n;if(6===t)ou(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(s=pt(e))&&(r=s,t=au(e,s))),1===t))throw n=Al,hu(e,0),ou(e,r),ru(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_u(e,Ul,Wl);break;case 3:if(ou(e,r),(130023424&r)===r&&10<(t=zl+500-Qe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_u.bind(null,e,Ul,Wl),t);break}_u(e,Ul,Wl);break;case 4:if(ou(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(_u.bind(null,e,Ul,Wl),r);break}_u(e,Ul,Wl);break;default:throw Error(a(329))}}}return ru(e,Qe()),e.callbackNode===n?iu.bind(null,e):null}function au(e,t){var n=Dl;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Ul,Ul=n,null!==t&&su(t)),e}function su(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function ou(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Nl))throw Error(a(327));xu();var t=ht(e,0);if(0===(1&t))return ru(e,Qe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Al,hu(e,0),ou(e,t),ru(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,Ul,Wl),ru(e,Qe()),null}function uu(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Bl=Qe()+500,Di&&Bi())}}function cu(e){null!==Gl&&0===Gl.tag&&0===(6&Nl)&&xu();var t=Nl;Nl|=1;var n=Cl.transition,r=yt;try{if(Cl.transition=null,yt=1,e)return e()}finally{yt=r,Cl.transition=n,0===(6&(Nl=t))&&Bi()}}function du(){Rl=$l.current,Ei($l)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&$i();break;case 3:Ya(),Ei(Ti),Ei(Ni),ns();break;case 5:Xa(r);break;case 4:Ya();break;case 13:case 19:Ei(Za);break;case 10:Ca(r.type._context);break;case 22:case 23:du()}n=n.return}if(Tl=e,Pl=e=$u(e.current,null),Ol=Rl=t,Il=0,Al=null,Fl=Ml=Ll=0,Ul=Dl=null,null!==Oa){for(t=0;t<Oa.length;t++)if(null!==(r=(n=Oa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}Oa=null}return e}function fu(e,t){for(;;){var n=Pl;try{if(ja(),rs.current=Qs,us){for(var r=ss.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}us=!1}if(as=0,ls=os=ss=null,cs=!1,ds=0,jl.current=null,null===n||null===n.return){Il=1,Al=t,Pl=null;break}e:{var s=e,o=n.return,l=n,u=t;if(t=Ol,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(s,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){mo(s,c,t),mu();break e}u=Error(a(426))}else if(ia&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),pa(lo(u,l));break e}}s=u=lo(u,l),4!==Il&&(Il=2),null===Dl?Dl=[s]:Dl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,za(s,fo(0,u,t));break e;case 1:l=u;var b=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Vl||!Vl.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,za(s,po(s,l,t));break e}}s=s.return}while(null!==s)}wu(n)}catch(w){t=w,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function pu(){var e=El.current;return El.current=Qs,null===e?Qs:e}function mu(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Tl||0===(268435455&Ll)&&0===(268435455&Ml)||ou(Tl,Ol)}function gu(e,t){var n=Nl;Nl|=2;var r=pu();for(Tl===e&&Ol===t||(Wl=null,hu(e,t));;)try{vu();break}catch(i){fu(e,i)}if(ja(),Nl=n,El.current=r,null!==Pl)throw Error(a(261));return Tl=null,Ol=0,Il}function vu(){for(;null!==Pl;)yu(Pl)}function bu(){for(;null!==Pl&&!Je();)yu(Pl)}function yu(e){var t=kl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?wu(e):Pl=t,jl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Rl)))return void(Pl=n)}else{if(null!==(n=Go(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Il=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Il&&(Il=5)}function _u(e,t,n){var r=yt,i=Cl.transition;try{Cl.transition=null,yt=1,function(e,t,n,r){do{xu()}while(null!==Gl);if(0!==(6&Nl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===Tl&&(Pl=Tl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Tu(tt,function(){return xu(),null})),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Cl.transition,Cl.transition=null;var o=yt;yt=1;var l=Nl;Nl|=4,jl.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(u=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===i&&(l=o),f===s&&++d===r&&(u=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(_){Su(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Ye(),Nl=l,yt=o,Cl.transition=s}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Jl=i),s=e.pendingLanes,0===s&&(Vl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Hl,Hl=null,e;0!==(1&Jl)&&0!==e.tag&&xu(),s=e.pendingLanes,0!==(1&s)?e===Ql?Yl++:(Yl=0,Ql=e):Yl=0,Bi()}(e,t,n,r)}finally{Cl.transition=i,yt=r}return null}function xu(){if(null!==Gl){var e=wt(Jl),t=Cl.transition,n=yt;try{if(Cl.transition=null,yt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Jl=0,0!==(6&Nl))throw Error(a(331));var i=Nl;for(Nl|=4,Xo=e.current;null!==Xo;){var s=Xo,o=s.child;if(0!==(16&Xo.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xo=c;null!==Xo;){var d=Xo;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Xo=h;else for(;null!==Xo;){var f=(d=Xo).sibling,p=d.return;if(al(d),d===c){Xo=null;break}if(null!==f){f.return=p,Xo=f;break}Xo=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Xo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(s=Xo).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var b=s.sibling;if(null!==b){b.return=s.return,Xo=b;break e}Xo=s.return}}var y=e.current;for(Xo=y;null!==Xo;){var w=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Xo=w;else e:for(o=y;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Su(l,l.return,x)}if(l===o){Xo=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Xo=_;break e}Xo=l.return}}if(Nl=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{yt=n,Cl.transition=t}}return!1}function ku(e,t,n){e=Da(e,t=fo(0,t=lo(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Su(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=Da(t,e=po(t,e=lo(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Ol&n)===n&&(4===Il||3===Il&&(130023424&Ol)===Ol&&500>Qe()-zl?hu(e,0):Fl|=n),ru(e,t)}function ju(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ia(e,t))&&(vt(e,t,n),ru(e,n))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ju(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),ju(e,n)}function Tu(e,t){return Ke(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Pu(e,t,n,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $u(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Iu(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Ru(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Au(n.children,i,s,t);case S:o=8,i|=8;break;case E:return(e=Ou(12,n,t,2|i)).elementType=E,e.lanes=s,e;case T:return(e=Ou(13,n,t,i)).elementType=T,e.lanes=s,e;case P:return(e=Ou(19,n,t,i)).elementType=P,e.lanes=s,e;case $:return Lu(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:o=10;break e;case C:o=9;break e;case N:o=11;break e;case O:o=14;break e;case R:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ou(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Au(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function Lu(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=$,e.lanes=n,e.stateNode={isHidden:!1},e}function Mu(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Du(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,r,i,a,s,o,l){return e=new Du(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ou(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(a),e}function zu(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Ai(e,n,t)}return t}function Bu(e,t,n,r,i,a,s,o,l){return(e=Uu(n,r,!0,e,0,a,0,o,l)).context=zu(null),n=e.current,(a=Fa(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,vt(e,i,r),ru(e,r),e}function Wu(e,t,n,r){var i=t.current,a=eu(),s=tu(i);return n=zu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,s))&&(nu(e,i,s,a),Ua(e,i,s)),s}function qu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)yo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yo=!1,function(e,t,n){switch(t.tag){case 3:To(t),fa();break;case 5:Qa(t);break;case 1:Ri(t.type)&&Li(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ji(xa,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ji(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(ji(Za,1&Za.current),null!==(e=qo(e,t,n))?e.sibling:null);ji(Za,1&Za.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ji(Za,Za.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return qo(e,t,n)}(e,t,n);yo=0!==(131072&e.flags)}else yo=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var i=Oi(t,Ni.current);Ta(t,n),i=ms(null,t,r,e,i,n);var s=gs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,La(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=No(null,t,r,!0,s,n)):(t.tag=0,ia&&s&&ea(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ru(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(r),e=to(r,e),i){case 0:t=jo(null,t,r,e,n);break e;case 1:t=Co(null,t,r,e,n);break e;case 11:t=_o(null,t,r,e,n);break e;case 14:t=xo(null,t,r,to(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(To(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,Ma(e,t),Ba(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Po(e,t,r,n,i=lo(Error(a(423)),t));break e}if(r!==i){t=Po(e,t,r,n,i=lo(Error(a(424)),t));break e}for(ra=ui(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=_a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=qo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Qa(t),null===e&&ua(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==s&&ni(r,s)&&(t.flags|=32),Eo(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&ua(t),null;case 13:return Mo(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wa(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_o(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ji(xa,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===i.children&&!Ti.current){t=qo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Fa(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Na(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Na(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ta(t,n),r=r(i=Pa(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),xo(e,t,r,i=to(r.type,i),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Wo(e,t),t.tag=1,Ri(r)?(e=!0,Li(t)):e=!1,Ta(t,n),ao(t,r,i),oo(t,r,i,n),No(null,t,r,!0,e,n);case 19:return Bo(e,t,n);case 22:return So(e,t,n)}throw Error(a(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function Gu(e){this._internalRoot=e}function Ju(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Zu(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof i){var o=i;i=function(){var e=qu(s);o.call(e)}}Wu(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=qu(s);a.call(e)}}var s=Bu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),cu(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=qu(l);o.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=l,e[pi]=l.current,Br(8===e.nodeType?e.parentNode:e),cu(function(){Wu(t,l,n,r)}),l}(n,t,e,i,r);return qu(s)}Ju.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wu(e,t,null,null)},Ju.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu(function(){Wu(null,e,null,null)}),t[pi]=null}},Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$t.length&&0!==t&&t<$t[n].priority;n++);$t.splice(n,0,e),0===n&&Mt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),ru(t,Qe()),0===(6&Nl)&&(Bl=Qe()+500,Bi()))}break;case 13:cu(function(){var t=Ia(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}}),Vu(e,1)}},xt=function(e){if(13===e.tag){var t=Ia(e,134217728);if(null!==t)nu(t,e,134217728,eu());Vu(e,134217728)}},kt=function(e){if(13===e.tag){var t=tu(e),n=Ia(e,t);if(null!==n)nu(n,e,t,eu());Vu(e,t)}},St=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(a(90));K(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uu,Te=cu;var ec={usingClientEntryPoint:!1,Events:[yi,wi,_i,je,Ce,uu]},tc={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),at=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(a(299));var n=!1,r="",i=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Gu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Qu(t))throw Error(a(200));return Zu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Bu(t,null,e,1,null!=n?n:null,i,0,s,o),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ju(t)},t.render=function(e,t,n){if(!Qu(t))throw Error(a(200));return Zu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(a(40));return!!e._reactRootContainer&&(cu(function(){Zu(null,null,e,!1,function(){e._reactRootContainer=null,e[pi]=null})}),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(374));class a extends i.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");const a=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}t.default=a},745:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`}},829:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:i}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let a=!1;const s=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new i.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),a||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>`"${e}"`);this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new i.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new i.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},980:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const i=r(n(210));t.PostgrestClient=i.default;const a=r(n(829));t.PostgrestQueryBuilder=a.default;const s=r(n(736));t.PostgrestFilterBuilder=s.default;const o=r(n(374));t.PostgrestTransformBuilder=o.default;const l=r(n(286));t.PostgrestBuilder=l.default;const u=r(n(611));t.PostgrestError=u.default,t.default={PostgrestClient:i.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:u.default}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>r[e]);return s.default=()=>r,n.d(a,s),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".e8860168.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="family-tree-app:";n.l=(r,i,a,s)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Family-Tree-Site/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,s=r[0],o=r[1],l=r[2],u=0;if(s.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);u<s.length;u++)a=s[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkfamily_tree_app=self.webpackChunkfamily_tree_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r,i=n(43),a=n.t(i,2),s=n(391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(e,t,n,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:s=!1}=i,c=a.history,p=r.Pop,m=null,g=v();function v(){return(c.state||{idx:null}).idx}function b(){p=r.Pop;let e=v(),t=null==e?null:e-g;g=e,m&&m({action:p,location:w.location,delta:t})}function y(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,c.replaceState(o({},c.state,{idx:g}),""));let w={get action(){return p},get location(){return e(a,c)},listen(e){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(l,b),m=e,()=>{a.removeEventListener(l,b),m=null}},createHref:e=>t(a,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){p=r.Push;let i=h(w.location,e,t);n&&n(i,e),g=v()+1;let o=d(i,g),l=w.createHref(i);try{c.pushState(o,"",l)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;a.location.assign(l)}s&&m&&m({action:p,location:w.location,delta:1})},replace:function(e,t){p=r.Replace;let i=h(w.location,e,t);n&&n(i,e),g=v();let a=d(i,g),o=w.createHref(i);c.replaceState(a,"",o),s&&m&&m({action:p,location:w.location,delta:0})},go:e=>c.go(e)};return w}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,r){let i=R(("string"===typeof t?p(t):t).pathname||"/",n);if(null==i)return null;let a=y(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=O(i);s=T(a[o],e,r)}return s}function y(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(u(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let o=M([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),y(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=w(r.join("/")),o=[];return o.push(...s.map(e=>""===e?a:[a,e].join("/"))),i&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const _=/^:[\w-]+$/,x=3,k=2,S=1,E=10,j=-2,C=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=j),t&&(r+=k),n.filter(e=>!C(e)).reduce((e,t)=>e+(_.test(t)?x:""===t?S:E),r)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,u="/"===a?t:t.slice(a.length)||"/",c=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),s.push({params:i,pathname:M([a,c.pathname]),pathnameBase:F(M([a,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(a=M([a,c.pathnameBase]))}return s}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:s,pattern:e}}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function $(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function I(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function A(e,t){let n=I(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=p(e):(i=o({},e),u(!i.pathname||!i.pathname.includes("?"),$("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),$("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),$("#","search","hash",i)));let a,s=""===e||""===i.pathname,l=s?"/":i.pathname;if(null==l)a=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?p(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:D(r),hash:U(i)}}(i,a),d=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],W=(new Set(B),["get",...B]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const H=i.createContext(null);const V=i.createContext(null);const K=i.createContext(null);const G=i.createContext(null);const J=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=i.createContext(null);function Q(){return null!=i.useContext(G)}function X(){return Q()||u(!1),i.useContext(G).location}function Z(e){i.useContext(K).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(J);return e?function(){let{router:e}=ce(le.UseNavigateStable),t=he(ue.UseNavigateStable),n=i.useRef(!1);return Z(()=>{n.current=!0}),i.useCallback(function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,q({fromRouteId:t},i)))},[e,t])}():function(){Q()||u(!1);let e=i.useContext(H),{basename:t,future:n,navigator:r}=i.useContext(K),{matches:a}=i.useContext(J),{pathname:s}=X(),o=JSON.stringify(A(a,n.v7_relativeSplatPath)),l=i.useRef(!1);return Z(()=>{l.current=!0}),i.useCallback(function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let a=L(n,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:M([t,a.pathname])),(i.replace?r.replace:r.push)(a,i.state,i)},[t,r,o,s,e])}()}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(K),{matches:a}=i.useContext(J),{pathname:s}=X(),o=JSON.stringify(A(a,r.v7_relativeSplatPath));return i.useMemo(()=>L(e,JSON.parse(o),s,"path"===n),[e,o,s,n])}function ne(e,t,n,a){Q()||u(!1);let{navigator:s}=i.useContext(K),{matches:o}=i.useContext(J),l=o[o.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=X();if(t){var m;let e="string"===typeof t?p(t):t;"/"===d||(null==(m=e.pathname)?void 0:m.startsWith(d))||u(!1),h=e}else h=f;let g=h.pathname||"/",b=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=v(e,{pathname:b});let w=oe(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:M([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:M([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,a);return t&&w?i.createElement(G.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},w):w}function re(){let e=function(){var e;let t=i.useContext(Y),n=de(ue.UseRouteError),r=he(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:a},n):null,null)}const ie=i.createElement(re,null);class ae extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(J.Provider,{value:this.props.routeContext},i.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:n,children:r}=e,a=i.useContext(H);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(J.Provider,{value:t},r)}function oe(e,t,n,r){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=r)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(a=n)?void 0:a.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||u(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){c=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight((e,r,a)=>{let s,u=!1,h=null,f=null;var p;n&&(s=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ie,c&&(d<0&&0===a?(p="route-fallback",!1||fe[p]||(fe[p]=!0),u=!0,f=null):d===a&&(u=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,a+1)),g=()=>{let t;return t=s?h:u?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(se,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===a)?i.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function ce(e){let t=i.useContext(H);return t||u(!1),t}function de(e){let t=i.useContext(V);return t||u(!1),t}function he(e){let t=function(){let e=i.useContext(J);return e||u(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const fe={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function me(e){u(!1)}function ge(e){let{basename:t="/",children:n=null,location:a,navigationType:s=r.Pop,navigator:o,static:l=!1,future:c}=e;Q()&&u(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo(()=>({basename:d,navigator:o,static:l,future:q({v7_relativeSplatPath:!1},c)}),[d,c,o,l]);"string"===typeof a&&(a=p(a));let{pathname:f="/",search:m="",hash:g="",state:v=null,key:b="default"}=a,y=i.useMemo(()=>{let e=R(f,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:b},navigationType:s}},[d,f,m,g,v,b,s]);return null==y?null:i.createElement(K.Provider,{value:h},i.createElement(G.Provider,{children:n,value:y}))}function ve(e){let{children:t,location:n}=e;return ne(be(t),n)}new Promise(()=>{});i.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,r)=>{if(!i.isValidElement(e))return;let a=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,be(e.props.children,a));e.type!==me&&u(!1),e.props.index&&e.props.children&&u(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=be(e.props.children,a)),n.push(s)}),n}var ye=n(950),we=n.t(ye,2);function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function xe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ke=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Dr){}new Map;const Se=a.startTransition;we.flushSync,a.useId;function Ee(e){let{basename:t,children:n,future:r,window:a}=e,s=i.useRef();var o;null==s.current&&(s.current=(void 0===(o={window:a,v5Compat:!0})&&(o={}),m(function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,o)));let l=s.current,[u,c]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},p=i.useCallback(e=>{d&&Se?Se(()=>c(e)):c(e)},[c,d]);return i.useLayoutEffect(()=>l.listen(p),[l,p]),i.useEffect(()=>pe(r),[r]),i.createElement(ge,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:r})}const je="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=i.forwardRef(function(e,t){let n,{onClick:r,relative:a,reloadDocument:s,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:p}=e,m=xe(e,ke),{basename:g}=i.useContext(K),v=!1;if("string"===typeof d&&Ce.test(d)&&(n=d,je))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=R(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(Dr){}let b=function(e,t){let{relative:n}=void 0===t?{}:t;Q()||u(!1);let{basename:r,navigator:a}=i.useContext(K),{hash:s,pathname:o,search:l}=te(e,{relative:n}),c=o;return"/"!==r&&(c="/"===o?r:M([r,o])),a.createHref({pathname:c,search:l,hash:s})}(d,{relative:a}),y=function(e,t){let{target:n,replace:r,state:a,preventScrollReset:s,relative:o,viewTransition:l}=void 0===t?{}:t,u=ee(),c=X(),d=te(e,{relative:o});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:f(c)===f(d);u(e,{replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l})}},[c,u,d,r,a,n,e,s,o,l])}(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:a,viewTransition:p});return i.createElement("a",_e({},m,{href:n||b,onClick:v||s?r:function(e){r&&r(e),e.defaultPrevented||y(e)},ref:t,target:c}))});var Te,Pe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Te||(Te={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));class Oe extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class Re extends Oe{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $e extends Oe{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ie extends Oe{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ae;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Ae||(Ae={}));var Le=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(Dr){a(Dr)}}function o(e){try{l(r.throw(e))}catch(Dr){a(Dr)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})};class Me{constructor(e){let{headers:t={},customFetch:r,region:i=Ae.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=i,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return Le(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:a}=t;let s={},{region:o}=t;o||(o=this.region);const l=new URL(`${this.url}/${e}`);let u;o&&"any"!==o&&(s["x-region"]=o,l.searchParams.set("forceFunctionRegion",o)),a&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&a instanceof Blob||a instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",u=a):"string"===typeof a?(s["Content-Type"]="text/plain",u=a):"undefined"!==typeof FormData&&a instanceof FormData?u=a:(s["Content-Type"]="application/json",u=JSON.stringify(a)));const c=yield this.fetch(l.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),r),body:u}).catch(e=>{throw new Re(e)}),d=c.headers.get("x-relay-error");if(d&&"true"===d)throw new $e(c);if(!c.ok)throw new Ie(c);let h,f=(null!==(n=c.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return h="application/json"===f?yield c.json():"application/octet-stream"===f?yield c.blob():"text/event-stream"===f?c:"multipart/form-data"===f?yield c.formData():yield c.text(),{data:h,error:null,response:c}}catch(r){return{data:null,error:r,response:r instanceof Ie||r instanceof $e?r.context:void 0}}})}}var Fe=n(980);const{PostgrestClient:De,PostgrestQueryBuilder:Ue,PostgrestFilterBuilder:ze,PostgrestTransformBuilder:Be,PostgrestBuilder:We,PostgrestError:qe}=Fe;const He=function(){if("undefined"!==typeof WebSocket)return WebSocket;if("undefined"!==typeof global.WebSocket)return global.WebSocket;if("undefined"!==typeof window.WebSocket)return window.WebSocket;if("undefined"!==typeof self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}();var Ve,Ke,Ge,Je,Ye,Qe;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Ve||(Ve={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Ke||(Ke={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Ge||(Ge={})),function(e){e.websocket="websocket"}(Je||(Je={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Ye||(Ye={}));class Xe{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const s=n.decode(e.slice(a,a+r));a+=r;const o=n.decode(e.slice(a,a+i));a+=i;return{ref:null,topic:s,event:o,payload:JSON.parse(n.decode(e.slice(a,e.byteLength)))}}}class Ze{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Qe||(Qe={}));const et=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce((n,i)=>(n[i]=tt(i,e,t,r),n),{})},tt=(e,t,n,r)=>{const i=t.find(t=>t.name===e),a=null===i||void 0===i?void 0:i.type,s=n[e];return a&&!r.includes(a)?nt(a,s):rt(s)},nt=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return ot(t,n)}switch(e){case Qe.bool:return it(t);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return at(t);case Qe.json:case Qe.jsonb:return st(t);case Qe.timestamp:return lt(t);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:default:return rt(t)}},rt=e=>e,it=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},at=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},st=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ot=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const a=e.slice(1,n);try{r=JSON.parse("["+a+"]")}catch(i){r=a?a.split(","):[]}return r.map(e=>nt(t,e))}return e},lt=e=>"string"===typeof e?e.replace(" ","T"):e,ut=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ct{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var dt,ht,ft,pt;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(dt||(dt={}));class mt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mt.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=mt.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=mt.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const i=this.cloneDeep(e),a=this.transformState(t),s={},o={};return this.map(i,(e,t)=>{a[e]||(o[e]=t)}),this.map(a,(e,t)=>{const n=i[e];if(n){const r=t.map(e=>e.presence_ref),i=n.map(e=>e.presence_ref),a=t.filter(e=>i.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);a.length>0&&(s[e]=a),l.length>0&&(o[e]=l)}else s[e]=t}),this.syncDiff(i,{joins:s,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(t,r)=>{var i;const a=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(r),a.length>0){const n=e[t].map(e=>e.presence_ref),r=a.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,a,r)}),this.map(a,(t,n)=>{let i=e[t];if(!i)return;const a=n.map(e=>e.presence_ref);i=i.filter(e=>a.indexOf(e.presence_ref)<0),e[t]=i,r(t,i,n),0===i.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(ht||(ht={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(ft||(ft={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(pt||(pt={}));class gt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ct(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new Ze(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new mt(this),this.broadcastEndpointURL=ut(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Ke.closed){const{config:{broadcast:i,presence:a,private:s}}=this.params;this._onError(t=>null===e||void 0===e?void 0:e(pt.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(pt.CLOSED));const o={},l={broadcast:i,presence:a,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],private:s};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,i=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,a=[];for(let r=0;r<i;r++){const i=t[r],{filter:{event:s,schema:o,table:l,filter:u}}=i,c=n&&n[r];if(!c||c.event!==s||c.schema!==o||c.table!==l||c.filter!==u)return this.unsubscribe(),this.state=Ke.errored,void(null===e||void 0===e||e(pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},i),{id:c.id}))}return this.bindings.postgres_changes=a,void(e&&e(pt.SUBSCRIBED))}null===e||void 0===e||e(pt.SUBSCRIBED)}).receive("error",t=>{this.state=Ke.errored,null===e||void 0===e||e(pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,i,a;const s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===a?void 0:a.ack)||n("ok"),s.receive("ok",()=>n("ok")),s.receive("error",()=>n("error")),s.receive("timeout",()=>n("timed out"))});{const{event:a,payload:s}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(i){return"AbortError"===i.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Ke.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new ct(this,Ge.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),a}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new ct(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;const a=e.toLocaleLowerCase(),{close:s,error:o,leave:l,join:u}=Ge;if(n&&[s,o,l,u].indexOf(a)>=0&&n!==this._joinRef())return;let c=this._onMessage(a,t,n);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===a}).map(e=>e.callback(c,n)):null===(i=this.bindings[a])||void 0===i||i.filter(e=>{var n,r,i,s,o,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,s=null===(n=e.filter)||void 0===n?void 0:n.event;return a&&(null===(r=t.ids)||void 0===r?void 0:r.includes(a))&&("*"===s||(null===s||void 0===s?void 0:s.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{const n=null===(o=null===(s=null===e||void 0===e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a}).map(e=>{if("object"===typeof c&&"ids"in c){const e=c.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:a}=e,s={schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:a};c=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(c,n)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&gt.isEqual(e.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ge.close,{},e)}_onError(e){this._on(Ge.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=et(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=et(e.columns,e.old_record)),t}}const vt=()=>{};class bt{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vt,this.ref=0,this.logger=vt,this.conn=null,this.sendBuffer=[],this.serializer=new Xe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},this.endPoint=`${e}/${Je.websocket}`,this.httpEndpoint=ut(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),((null===t||void 0===t?void 0:t.logLevel)||(null===t||void 0===t?void 0:t.log_level))&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ze(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=He),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(e=>e.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ve.connecting:return Ye.Connecting;case Ve.open:return Ye.Open;case Ve.closing:return Ye.Closing;default:return Ye.Closed}}isConnected(){return this.connectionState()===Ye.Open}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n=`realtime:${e}`,r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new gt(`realtime:${e}`,t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:i}=e,a=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push",`${t} ${n} (${i})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:"realtime-js/2.11.15"};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(Ge.access_token,{access_token:e})}))}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}else this.heartbeatCallback("disconnected")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:n,payload:r,ref:i}=e;"phoenix"===t&&"phx_reply"===n&&this.heartbeatCallback("ok"==e.payload.status?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${i&&"("+i+")"||""}`,r),Array.from(this.channels).filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,i)),this.stateChangeCallbacks.message.forEach(t=>t(e))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ge.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class yt extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function wt(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class _t extends yt{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class xt extends yt{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var kt=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(Dr){a(Dr)}}function o(e){try{l(r.throw(e))}catch(Dr){a(Dr)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})};const St=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},Et=e=>{if(Array.isArray(e))return e.map(e=>Et(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const i=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[i]=Et(r)}),t};var jt=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(Dr){a(Dr)}}function o(e){try{l(r.throw(e))}catch(Dr){a(Dr)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})};const Ct=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Nt=(e,t,r)=>jt(void 0,void 0,void 0,function*(){const i=yield kt(void 0,void 0,void 0,function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response});e instanceof i&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then(n=>{t(new _t(Ct(n),e.status||500))}).catch(e=>{t(new xt(Ct(e),e))}):t(new xt(Ct(e),e))});function Tt(e,t,n,r,i,a){return jt(this,void 0,void 0,function*(){return new Promise((s,o)=>{e(n,((e,t,n,r)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))})(t,r,i,a)).then(e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()}).then(e=>s(e)).catch(e=>Nt(e,o,r))})})}function Pt(e,t,n,r){return jt(this,void 0,void 0,function*(){return Tt(e,"GET",t,n,r)})}function Ot(e,t,n,r,i){return jt(this,void 0,void 0,function*(){return Tt(e,"POST",t,r,i,n)})}function Rt(e,t,n,r,i){return jt(this,void 0,void 0,function*(){return Tt(e,"DELETE",t,r,i,n)})}var $t=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(Dr){a(Dr)}}function o(e){try{l(r.throw(e))}catch(Dr){a(Dr)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})};const It={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},At={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=St(r)}uploadOrUpdate(e,t,n,r){return $t(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},At),r);let s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const o=a.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),o&&i.append("metadata",this.encodeMetadata(o)),i.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),o&&i.append("metadata",this.encodeMetadata(o))):(i=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,o&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===r||void 0===r?void 0:r.headers)&&(s=Object.assign(Object.assign({},s),r.headers));const l=this._removeEmptyFolders(t),u=this._getFinalPath(l),c=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:s},(null===a||void 0===a?void 0:a.duplex)?{duplex:a.duplex}:{})),d=yield c.json();if(c.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(i){if(wt(i))return{data:null,error:i};throw i}})}upload(e,t,n){return $t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,r){return $t(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:At.upsert},r),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,a["cache-control"]=`max-age=${t.cacheControl}`,a["content-type"]=t.contentType);const o=yield this.fetch(s.toString(),{method:"PUT",body:e,headers:a}),l=yield o.json();if(o.ok)return{data:{path:i,fullPath:l.Key},error:null};return{data:null,error:l}}catch(o){if(wt(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return $t(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const i=yield Ot(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),a=new URL(this.url+i.url),s=a.searchParams.get("token");if(!s)throw new yt("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}update(e,t,n){return $t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return $t(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}copy(e,t,n){return $t(this,void 0,void 0,function*(){try{return{data:{path:(yield Ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,n){return $t(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield Ot(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const a=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}createSignedUrls(e,t,n){return $t(this,void 0,void 0,function*(){try{const r=yield Ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map(e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null})),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}download(e,t){return $t(this,void 0,void 0,function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),i=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield Pt(this.fetch,`${this.url}/${n}/${t}${i}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(a){if(wt(a))return{data:null,error:a};throw a}})}info(e){return $t(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const e=yield Pt(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Et(e),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}exists(e){return $t(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return jt(this,void 0,void 0,function*(){return Tt(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(wt(n)&&n instanceof xt){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&r.push(i);const a="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==s&&r.push(s);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${o}`)}}}remove(e){return $t(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(wt(t))return{data:null,error:t};throw t}})}list(e,t,n){return $t(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},It),t),{prefix:e||""});return{data:yield Ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(wt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Mt={"X-Client-Info":"storage-js/2.7.1"};var Ft=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(Dr){a(Dr)}}function o(e){try{l(r.throw(e))}catch(Dr){a(Dr)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})};class Dt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},Mt),t),this.fetch=St(n)}listBuckets(){return Ft(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(wt(e))return{data:null,error:e};throw e}})}getBucket(e){return Ft(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(wt(t))return{data:null,error:t};throw t}})}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Ft(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return Ft(this,void 0,void 0,function*(){try{const n=yield function(e,t,n,r,i){return jt(this,void 0,void 0,function*(){return Tt(e,"PUT",t,r,i,n)})}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(wt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ft(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(wt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Ft(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(wt(t))return{data:null,error:t};throw t}})}}class Ut extends Dt{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new Lt(this.url,this.headers,e,this.fetch)}}let zt="";zt="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Bt={headers:{"X-Client-Info":`supabase-js-${zt}/2.52.0`}},Wt={schema:"public"},qt={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ht={};var Vt=n(630),Kt=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(Dr){a(Dr)}}function o(e){try{l(r.throw(e))}catch(Dr){a(Dr)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})};const Gt=e=>{let t;return t=e||("undefined"===typeof fetch?Vt.default:fetch),function(){return t(...arguments)}},Jt=(e,t,n)=>{const r=Gt(n),i="undefined"===typeof Headers?Vt.Headers:Headers;return(n,a)=>Kt(void 0,void 0,void 0,function*(){var s;const o=null!==(s=yield t())&&void 0!==s?s:e;let l=new i(null===a||void 0===a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(n,Object.assign(Object.assign({},a),{headers:l}))})};var Yt=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(Dr){a(Dr)}}function o(e){try{l(r.throw(e))}catch(Dr){a(Dr)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})};const Qt="2.71.1",Xt=3e4,Zt=9e4,en={"X-Client-Info":`gotrue-js/${Qt}`},tn="X-Supabase-Api-Version",nn={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},rn=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class an extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function sn(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class on extends an{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class ln extends an{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class un extends an{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class cn extends un{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class dn extends un{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hn extends un{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class fn extends un{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pn extends un{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mn extends un{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function gn(e){return sn(e)&&"AuthRetryableFetchError"===e.name}class vn extends un{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class bn extends un{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const yn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wn=" \t\n\r=".split(""),_n=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wn.length;t+=1)e[wn[t].charCodeAt(0)]=-2;for(let t=0;t<yn.length;t+=1)e[yn[t].charCodeAt(0)]=t;return e})();function xn(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(yn[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(yn[e]),t.queuedBits-=6}}function kn(e,t,n){const r=_n[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Sn(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let s=0;s<e.length;s+=1)kn(e.charCodeAt(s),i,a);return t.join("")}function En(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function jn(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}En(r,t)}}function Cn(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let i=0;i<e.length;i+=1)kn(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Nn(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>xn(e,n,r)),xn(null,n,r),t.join("")}const Tn=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Pn={tested:!1,writable:!1},On=()=>{if(!Tn())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(Dr){return!1}if(Pn.tested)return Pn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Pn.tested=!0,Pn.writable=!0}catch(Dr){Pn.tested=!0,Pn.writable=!1}return Pn.writable};const Rn=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then(e=>{let{default:n}=e;return n(...t)})}:fetch),function(){return t(...arguments)}},$n=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},In=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},An=async(e,t)=>{await e.removeItem(t)};class Ln{constructor(){this.promise=new Ln.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Mn(e){const t=e.split(".");if(3!==t.length)throw new bn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!rn.test(t[n]))throw new bn("JWT not in base64url format");return{header:JSON.parse(Sn(t[0])),payload:JSON.parse(Sn(t[1])),signature:Cn(t[2]),raw:{header:t[0],payload:t[1]}}}function Fn(e){return("0"+e.toString(16)).substr(-2)}async function Dn(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Un(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Fn).join("")}();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await $n(e,`${t}-code-verifier`,i);const a=await Dn(r);return[a,r===a?"plain":"s256"]}Ln.promiseConstructor=Promise;const zn=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Bn=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wn(e){if(!Bn.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qn(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Hn(e){return JSON.parse(JSON.stringify(e))}var Vn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const Kn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Gn=[502,503,504];async function Jn(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new mn(Kn(e),0);if(Gn.includes(e.status))throw new mn(Kn(e),e.status);let r,i;try{r=await e.json()}catch(Dr){throw new ln(Kn(Dr),Dr)}const a=function(e){const t=e.headers.get(tn);if(!t)return null;if(!t.match(zn))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(Dr){return null}}(e);if(a&&a.getTime()>=nn.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?i=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(i=r.error_code),i){if("weak_password"===i)throw new vn(Kn(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===i)throw new cn}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new vn(Kn(r),e.status,r.weak_password.reasons);throw new on(Kn(r),e.status||500,i)}async function Yn(e,t,n,r){var i;const a=Object.assign({},null===r||void 0===r?void 0:r.headers);a[tn]||(a[tn]=nn.name),(null===r||void 0===r?void 0:r.jwt)&&(a.Authorization=`Bearer ${r.jwt}`);const s=null!==(i=null===r||void 0===r?void 0:r.query)&&void 0!==i?i:{};(null===r||void 0===r?void 0:r.redirectTo)&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await async function(e,t,n,r,i,a){const s=((e,t,n,r)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))})(t,r,i,a);let o;try{o=await e(n,Object.assign({},s))}catch(Dr){throw console.error(Dr),new mn(Kn(Dr),0)}o.ok||await Jn(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(Dr){await Jn(Dr)}}(e,t,n+o,{headers:a,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function Qn(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Xn(e){const t=Qn(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function Zn(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function er(e){return{data:e,error:null}}function tr(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,s=Vn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},user:Object.assign({},s)},error:null}}function nr(e){return e}const rr=["global","local","others"];var ir=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class ar{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=Rn(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:rr[0];if(rr.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rr.join(", ")}`);try{return await Yn(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(sn(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Yn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Zn})}catch(n){if(sn(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=ir(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await Yn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:tr,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(sn(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Yn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zn})}catch(t){if(sn(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,i,a,s,o;try{const l={nextPage:null,lastPage:0,total:0},u=await Yn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:nr});if(u.error)throw u.error;const c=await u.json(),d=null!==(a=u.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(s=u.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(l){if(sn(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Wn(e);try{return await Yn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zn})}catch(t){if(sn(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Wn(e);try{return await Yn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Zn})}catch(n){if(sn(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Wn(e);try{return await Yn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Zn})}catch(n){if(sn(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Wn(e.userId);try{const{data:t,error:n}=await Yn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(sn(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Wn(e.userId),Wn(e.id);try{return{data:await Yn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(sn(t))return{data:null,error:t};throw t}}}function sr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const or=!!(globalThis&&On()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class lr extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ur extends lr{}async function cr(e,t,n){or&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),or&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw or&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ur(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(or)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Dr){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Dr)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}or&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{or&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Dr){"undefined"!==typeof self&&(self.globalThis=self)}}();const dr={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:en,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function hr(e,t,n){return await n()}const fr={};class pr{constructor(e){var t,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pr.nextInstanceID,pr.nextInstanceID+=1,this.instanceID>0&&Tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},dr),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new ar({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Rn(r.fetch),this.lock=r.lock||hr,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:Tn()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=cr:this.lock=hr,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:On()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sr(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=sr(this.memoryStorage)),Tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Dr){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Dr)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)})}this.initialize()}get jwks(){var e,t;return null!==(t=null===(e=fr[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){fr[this.storageKey]=Object.assign(Object.assign({},fr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=fr[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){fr[this.storageKey]=Object.assign(Object.assign({},fr[this.storageKey]),{cachedAt:e})}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(`GoTrueClient@${this.instanceID} (${Qt}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(Dr){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Tn()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),function(e){return sn(e)&&"AuthImplicitGrantRedirectError"===e.name}(i)){const t=null===(e=i.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout(async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return sn(t)?{error:t}:{error:new ln("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const i=await Yn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:Qn}),{data:a,error:s}=i;if(s||!a)return{data:{user:null,session:null},error:s};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(i){if(sn(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,r;try{let i;if("email"in e){const{email:n,password:r,options:a}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await Un(this.storage,this.storageKey)),i=await Yn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:o},xform:Qn})}else{if(!("phone"in e))throw new hn("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:s}=e;i=await Yn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:null!==(n=null===s||void 0===s?void 0:s.data)&&void 0!==n?n:{},channel:null!==(r=null===s||void 0===s?void 0:s.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:Qn})}}const{data:a,error:s}=i;if(s||!a)return{data:{user:null,session:null},error:s};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(i){if(sn(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:i}=e;t=await Yn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:Xn})}else{if(!("phone"in e))throw new hn("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:i}=e;t=await Yn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:Xn})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new dn}}catch(t){if(sn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if("solana"===t)return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,n,r,i,a,s,o,l,u,c,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let v;if(Tn())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const b=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${b.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()}`,...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.notBefore)?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.expirationTime)?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.chainId)?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...(null===(c=null===(u=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===u?void 0:u.resources)||void 0===c?void 0:c.length)?["Resources",...g.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await Yn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Nn(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:Qn});if(n)throw n;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign({},t),error:n}):{data:{user:null,session:null},error:new dn}}catch(m){if(sn(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const t=await In(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:i}=await Yn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Qn});if(await An(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:i}):{data:{user:null,session:null,redirectType:null},error:new dn}}catch(i){if(sn(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:i,nonce:a}=e,s=await Yn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Qn}),{data:o,error:l}=s;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new dn}}catch(t){if(sn(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,i,a;try{if("email"in e){const{email:r,options:i}=e;let a=null,s=null;"pkce"===this.flowType&&([a,s]=await Un(this.storage,this.storageKey));const{error:o}=await Yn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(n=null===i||void 0===i?void 0:i.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:s},redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:s,error:o}=await Yn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(i=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(a=null===n||void 0===n?void 0:n.channel)&&void 0!==a?a:"sms"}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:o}}throw new hn("You must provide either an email or phone number.")}catch(s){if(sn(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var t,n;try{let r,i;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:a,error:s}=await Yn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Qn});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,l=a.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(sn(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let i=null,a=null;return"pkce"===this.flowType&&([i,a]=await Un(this.storage,this.storageKey)),await Yn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:er})}catch(i){if(sn(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new cn;const{error:r}=await Yn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(sn(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:a}=await Yn(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:n,type:r,options:i}=e,{data:a,error:s}=await Yn(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:s}}throw new hn("You must provide either an email or phone number and a type")}catch(t){if(sn(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(Dr){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Dr){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await In(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Zt;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const t=await In(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=qn()}if(this.storage.isServer&&e.user){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,async()=>await this._getUser())}async _getUser(e){try{return e?await Yn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zn}):await this._useSession(async e=>{var t,n,r;const{data:i,error:a}=e;if(a)throw a;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Yn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:Zn}):{data:{user:null},error:new cn}})}catch(t){if(sn(t))return function(e){return sn(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new cn;const a=r.session;let s=null,o=null;"pkce"===this.flowType&&null!=e.email&&([s,o]=await Un(this.storage,this.storageKey));const{data:l,error:u}=await Yn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:o}),jwt:a.access_token,xform:Zn});if(u)throw u;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(sn(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new cn;const t=Date.now()/1e3;let n=t,r=!0,i=null;const{payload:a}=Mn(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};i=t}else{const{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(sn(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:i}=t;if(i)throw i;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new cn;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(sn(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Tn())throw new fn("No browser detected.");if(e.error||e.error_description||e.error_code)throw new fn(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new pn("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new fn("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new pn("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:s,expires_at:o,token_type:l}=e;if(!i||!s||!a||!l)throw new fn("No session defined in URL");const u=Math.round(Date.now()/1e3),c=parseInt(s);let d=u+c;o&&(d=parseInt(o));const h=d-u;1e3*h<=Xt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${c}s`);const f=d-c;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,u);const{data:p,error:m}=await this._getUser(i);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:c,expires_at:d,refresh_token:a,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(sn(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await In(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:i}=t;if(i)return{error:i};const a=null===(n=r.session)||void 0===n?void 0:n.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return sn(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await An(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:i}=t;if(i)throw i;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(i){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await Un(this.storage,this.storageKey,!0));try{return await Yn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(sn(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(sn(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,i,a,s;const{data:o,error:l}=t;if(l)throw l;const u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await Yn(this.fetch,"GET",u,{headers:this.headers,jwt:null!==(s=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==s?s:void 0})});if(r)throw r;return Tn()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(sn(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:i,error:a}=t;if(a)throw a;return await Yn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(sn(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await Yn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qn})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&gn(t)&&Date.now()+n-i<Xt},new Promise((e,t)=>{(async()=>{for(let i=0;i<1/0;i++)try{const t=await n(i);if(!r(i,null,t))return void e(t)}catch(Dr){if(!r(i,Dr))return void t(Dr)}})()}))}catch(i){if(this._debug(t,"error",i),sn(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Tn()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await In(this.storage,this.storageKey);if(i&&this.userStorage){let t=await In(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:i.user},await $n(this.userStorage,this.storageKey+"-user",t)),i.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:qn()}else if(i&&!i.user&&!i.user){const e=await In(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(i.user=e.user,await An(this.storage,this.storageKey+"-user"),await $n(this.storage,this.storageKey,i)):i.user=qn()}if(this._debug(n,"session from storage",i),!this._isValidSession(i))return this._debug(n,"session is not valid"),void(null!==i&&await this._removeSession());const a=1e3*(null!==(t=i.expires_at)&&void 0!==t?t:1/0)-Date.now()<Zt;if(this._debug(n,`session has${a?"":" not"} expired with margin of 90000s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:e}=await this._callRefreshToken(i.refresh_token);e&&(console.error(e),gn(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(i.user&&!0===i.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(i.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(i.user=e.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){return this._debug(n,"error",i),void console.error(i)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Ln;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new cn;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(i){if(this._debug(r,"error",i),sn(i)){const e={session:null,error:i};return gn(i)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],i=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(Dr){r.push(Dr)}});if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await $n(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=Hn(e);await $n(this.storage,this.storageKey,r)}else{const e=Hn(t);await $n(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),await An(this.storage,this.storageKey),await An(this.storage,this.storageKey+"-code-verifier"),await An(this.storage,this.storageKey+"-user"),this.userStorage&&await An(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Tn()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Dr){console.error("removing visibilitychange callback failed",Dr)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Xt);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-e)/Xt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(Dr){console.error("Auto refresh tick failed with error. This is likely a transient error.",Dr)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(Dr){if(!(Dr.isAcquireTimeout||Dr instanceof lr))throw Dr;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tn()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null===n||void 0===n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await Un(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;return i?{data:null,error:i}:await Yn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(sn(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:i,error:a}=t;if(a)return{data:null,error:a};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await Yn(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:null===(n=null===i||void 0===i?void 0:i.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(t){if(sn(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:s}=await Yn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:s})})}catch(t){if(sn(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:i}=t;return i?{data:null,error:i}:await Yn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(sn(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter(e=>"totp"===e.factor_type&&"verified"===e.status),i=n.filter(e=>"phone"===e.factor_type&&"verified"===e.status);return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Mn(r.access_token);let s=null;a.aal&&(s=a.aal);let o=s;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:a.amr||[]},error:null}}))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:i}=await Yn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:i,signature:a,raw:{header:s,payload:o}}=Mn(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(i.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:i,header:r,signature:a},error:null}}const u=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),c=await crypto.subtle.importKey("jwk",l,u,!0,["verify"]);if(!await crypto.subtle.verify(u,c,a,function(e){const t=[];return jn(e,e=>t.push(e)),new Uint8Array(t)}(`${s}.${o}`)))throw new bn("Invalid JWT signature");return{data:{claims:i,header:r,signature:a},error:null}}catch(n){if(sn(n))return{data:null,error:n};throw n}}}pr.nextInstanceID=0;const mr=pr;class gr extends mr{constructor(e){super(e)}}var vr=function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function s(e){try{l(r.next(e))}catch(Dr){a(Dr)}}function o(e){try{l(r.throw(e))}catch(Dr){a(Dr)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,o)}l((r=r.apply(e,t||[])).next())})};class br{constructor(e,t,n){var r,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const s=(o=e).endsWith("/")?o:o+"/";var o;const l=new URL(s);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c=function(e,t){var n,r;const{db:i,auth:a,realtime:s,global:o}=e,{db:l,auth:u,realtime:c,global:d}=t,h={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:()=>Yt(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Wt,realtime:Ht,auth:Object.assign(Object.assign({},qt),{storageKey:u}),global:Bt});this.storageKey=null!==(r=c.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(i=c.global.headers)&&void 0!==i?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(a=c.auth)&&void 0!==a?a:{},this.headers,c.global.fetch),this.fetch=Jt(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new De(new URL("rest/v1",l).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Me(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ut(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return vr(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:i,detectSessionInUrl:a,storage:s,storageKey:o,flowType:l,lock:u,debug:c}=e;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gr({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:r,persistSession:i,detectSessionInUrl:a,storage:s,flowType:l,lock:u,debug:c,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new bt(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const yr="https://qqtejarptintdmvhnpjy.supabase.co",wr="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFxdGVqYXJwdGludGRtdmhucGp5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyMTQwOTEsImV4cCI6MjA2ODc5MDA5MX0.OCyMR8is0KFJTootY_sv_VpD5OJXU8VBLBVgLwk4eg4";const _r=((e,t,n)=>new br(e,t,n))(yr,wr);var xr=n(579);const kr=(0,i.createContext)(void 0),Sr=()=>{const e=(0,i.useContext)(kr);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Er=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[a,s]=(0,i.useState)(null),[o,l]=(0,i.useState)(!0);(0,i.useEffect)(()=>{_r.auth.getSession().then(e=>{var t;let{data:{session:n}}=e;s(n),r(null!==(t=null===n||void 0===n?void 0:n.user)&&void 0!==t?t:null),l(!1)});const{data:{subscription:e}}=_r.auth.onAuthStateChange((e,t)=>{var n;s(t),r(null!==(n=null===t||void 0===t?void 0:t.user)&&void 0!==n?n:null),l(!1)});return()=>e.unsubscribe()},[]);const u=(0,i.useCallback)(async()=>{try{await _r.auth.signOut()}catch(e){console.error("Error signing out:",e)}},[]);(0,i.useEffect)(()=>{let e;const t=()=>{clearTimeout(e),e=setTimeout(()=>{n&&u()},108e5)},r=["mousemove","mousedown","keypress","touchstart","scroll"],i=()=>t();return n&&(r.forEach(e=>{window.addEventListener(e,i)}),t()),()=>{clearTimeout(e),r.forEach(e=>{window.removeEventListener(e,i)})}},[n,u]);const c={user:n,session:a,loading:o,signUp:async(e,t)=>{try{const{data:n,error:r}=await _r.auth.signUp({email:e,password:t});if(r)throw r;return n}catch(n){throw n}},signIn:async(e,t)=>{try{const{data:n,error:r}=await _r.auth.signInWithPassword({email:e,password:t});if(r)throw r;return n}catch(n){throw n}},signOut:u};return(0,xr.jsx)(kr.Provider,{value:c,children:t})},jr=()=>{const{user:e}=Sr();return(0,xr.jsxs)("div",{className:"container text-center mt-5",children:[(0,xr.jsx)("h1",{children:"Welcome to the Family Tree Maker"}),(0,xr.jsx)("p",{children:"Create and share your family tree with ease."}),(0,xr.jsx)(Ne,{to:e?"/dashboard":"/login",className:"btn btn-primary",children:"Get Started"})]})},Cr=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[a,s]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),{signIn:u}=Sr(),c=ee();return(0,xr.jsx)("div",{className:"container",children:(0,xr.jsxs)("div",{className:"card",style:{maxWidth:"400px",margin:"0 auto"},children:[(0,xr.jsx)("h2",{children:"Sign In"}),a&&(0,xr.jsx)("div",{className:"alert alert-error",children:a}),(0,xr.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{s(""),l(!0),await u(e,n),c("/dashboard")}catch(a){s(a.message||"Failed to sign in")}finally{l(!1)}},children:[(0,xr.jsxs)("div",{className:"form-group",children:[(0,xr.jsx)("label",{htmlFor:"email",children:"Email"}),(0,xr.jsx)("input",{id:"email",type:"email",className:"form-control",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,xr.jsxs)("div",{className:"form-group",children:[(0,xr.jsx)("label",{htmlFor:"password",children:"Password"}),(0,xr.jsx)("input",{id:"password",type:"password",className:"form-control",value:n,onChange:e=>r(e.target.value),required:!0})]}),(0,xr.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%"},disabled:o,children:o?"Signing In...":"Sign In"})]}),(0,xr.jsxs)("p",{style:{textAlign:"center",marginTop:"1rem"},children:["Don't have an account? ",(0,xr.jsx)(Ne,{to:"/signup",children:"Sign up"})]})]})})},Nr=()=>{const{signUp:e}=Sr(),[t,n]=(ee(),(0,i.useState)("")),[r,a]=(0,i.useState)(""),[s,o]=(0,i.useState)(null),[l,u]=(0,i.useState)(null);return(0,xr.jsxs)("div",{className:"container mt-5",children:[(0,xr.jsx)("h2",{children:"Sign Up"}),s&&(0,xr.jsx)("div",{className:"alert alert-danger",children:s}),l&&(0,xr.jsx)("div",{className:"alert alert-success",children:l}),(0,xr.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),o(null),u(null);try{const{error:n}=await e(t,r);n?o(n.message):u("Check your email for a confirmation link.")}catch(s){o(s.message)}},children:[(0,xr.jsxs)("div",{className:"mb-3",children:[(0,xr.jsx)("label",{className:"form-label",children:"Email address"}),(0,xr.jsx)("input",{type:"email",className:"form-control",value:t,onChange:e=>n(e.target.value)})]}),(0,xr.jsxs)("div",{className:"mb-3",children:[(0,xr.jsx)("label",{className:"form-label",children:"Password"}),(0,xr.jsx)("input",{type:"password",className:"form-control",value:r,onChange:e=>a(e.target.value)})]}),(0,xr.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign Up"})]}),(0,xr.jsxs)("p",{className:"mt-3",children:["Already have an account? ",(0,xr.jsx)(Ne,{to:"/login",children:"Log In"})]})]})},Tr=e=>{let{familyMembers:t,relationships:n,onDeleteMember:r,onSelectMember:a,selectedMember:s,onDeleteRelationship:o,onAddMember:l,onAddRelatedMember:u,onAddExistingRelationship:c,onEditMember:d,onClosePopup:h,firstMember:f,externalPan:p,externalZoom:m,isPreview:g=!1,onFullscreen:v,onClose:b,isFullscreen:y=!1}=e;const[w,_]=(0,i.useState)(1),[x,k]=(0,i.useState)({x:0,y:0}),[S,E]=(0,i.useState)(!1),[j,C]=(0,i.useState)({x:0,y:0}),[N,T]=(0,i.useState)(null),[P,O]=(0,i.useState)({x:0,y:0}),[R,$]=(0,i.useState)({width:window.innerWidth,height:window.innerHeight}),[I,A]=(0,i.useState)(window.innerWidth<=768),L=(0,i.useRef)(null),M=(0,i.useRef)(null),[F,D]=(0,i.useState)(!0),[U,z]=(0,i.useState)(!1),B=180,W=120,q=240,H=220,V=40,K=200,G=150;(0,i.useEffect)(()=>{!p||0===p.dx&&0===p.dy||k(e=>({x:e.x+p.dx,y:e.y+p.dy}))},[null===p||void 0===p?void 0:p.dx,null===p||void 0===p?void 0:p.dy]),(0,i.useEffect)(()=>{"number"===typeof m&&J(m)},[m]),(0,i.useEffect)(()=>{const e=()=>{$({width:window.innerWidth,height:window.innerHeight}),A(window.innerWidth<=768)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,i.useEffect)(()=>{if(g)return;const e=L.current;if(!e)return;const t=e=>{e.preventDefault();const t=e.deltaY>0?.9:1.1;_(e=>Math.max(.1,Math.min(3,e*t)))};return e.addEventListener("wheel",t,{passive:!1}),()=>{e.removeEventListener("wheel",t)}},[g]);const J=e=>{_(t=>Math.max(.1,Math.min(3,t*e)))},Y=(0,i.useMemo)(()=>{const e=new Map;return t.forEach(t=>{e.set(t.id,{parents:[],children:[],spouses:[],siblings:[]})}),n.forEach(n=>{const r=t.find(e=>e.id===n.person1_id),i=t.find(e=>e.id===n.person2_id);if(!r||!i)return;const a=e.get(n.person1_id),s=e.get(n.person2_id);switch(n.relationship_type){case"parent":a.children.find(e=>e.member.id===i.id)||a.children.push({member:i,relationship:n}),s.parents.find(e=>e.member.id===r.id)||s.parents.push({member:r,relationship:n});break;case"child":a.parents.find(e=>e.member.id===i.id)||a.parents.push({member:i,relationship:n}),s.children.find(e=>e.member.id===r.id)||s.children.push({member:r,relationship:n});break;case"spouse":a.spouses.find(e=>e.member.id===i.id)||a.spouses.push({member:i,relationship:n}),s.spouses.find(e=>e.member.id===r.id)||s.spouses.push({member:r,relationship:n});break;case"sibling":a.siblings.find(e=>e.member.id===i.id)||a.siblings.push({member:i,relationship:n}),s.siblings.find(e=>e.member.id===r.id)||s.siblings.push({member:r,relationship:n})}}),e},[t,n]),Q=(0,i.useMemo)(()=>{if(0===t.length)return[];const e=new Map;t.forEach(t=>{e.set(t.id,{member:t,x:0,y:0,generation:0,children:[],parents:[],spouses:[],siblings:[],processed:!1})}),e.forEach(t=>{const n=Y.get(t.member.id);n&&(t.parents=n.parents.map(t=>e.get(t.member.id)).filter(Boolean),t.children=n.children.map(t=>e.get(t.member.id)).filter(Boolean),t.spouses=n.spouses.map(t=>e.get(t.member.id)).filter(Boolean),t.siblings=n.siblings.map(t=>e.get(t.member.id)).filter(Boolean))});const n=new Map,r=new Set,i=new Set;Array.from(e.values()).forEach(e=>{const t=e.parents.length>0,n=e.children.length>0,i=e.siblings.length>0;(t||n||i)&&(r.add(e.member.id),console.log(`Enhanced: Identified ${e.member.first_name} as blood relative`))}),Array.from(e.values()).forEach(e=>{r.has(e.member.id)&&e.siblings.forEach(e=>{r.add(e.member.id),console.log(`Enhanced: Added sibling ${e.member.first_name} as blood relative`)})}),Array.from(e.values()).forEach(e=>{e.spouses.forEach(t=>{const a=[e.member.id,t.member.id].sort().join("-");if(i.has(a))return;i.add(a);const s=r.has(e.member.id),o=r.has(t.member.id);e.siblings.some(e=>e.member.id===t.member.id)||t.siblings.some(t=>t.member.id===e.member.id)?console.log(`PREVENTED: ${e.member.first_name} and ${t.member.first_name} are siblings, not spouses`):(s||o)&&(r.add(e.member.id),r.add(t.member.id),n.set(e.member.id,t.member.id),n.set(t.member.id,e.member.id),s&&!o?(t.isSpouse=!0,t.spouseOf=e,console.log(`Enhanced: Created couple unit ${e.member.first_name} (anchor) + ${t.member.first_name} (spouse)`)):!s&&o?(e.isSpouse=!0,e.spouseOf=t,console.log(`Enhanced: Created couple unit ${t.member.first_name} (anchor) + ${e.member.first_name} (spouse)`)):e.generation<=t.generation?(t.isSpouse=!0,t.spouseOf=e,console.log(`Enhanced: Created couple unit ${e.member.first_name} (primary) + ${t.member.first_name} (partner)`)):(e.isSpouse=!0,e.spouseOf=t,console.log(`Enhanced: Created couple unit ${t.member.first_name} (primary) + ${e.member.first_name} (partner)`)))})});const a=[],s=new Set;e.forEach(e=>{if(!s.has(e.member.id)){const t=[],n=[e];for(s.add(e.member.id);n.length>0;){const e=n.shift();t.push(e),[...e.parents,...e.children,...e.spouses,...e.siblings].forEach(e=>{e&&!s.has(e.member.id)&&(s.add(e.member.id),n.push(e))})}a.push(t)}}),console.log("Family groups found:",a.map((e,t)=>({groupIndex:t,members:e.map(e=>`${e.member.first_name} (parents: ${e.parents.map(e=>e.member.first_name).join(",")})`)})));let o=100;function l(e){const t={};return e.forEach(e=>{const n=`${e.parents.map(e=>e.member.id).sort().join("-")}-gen${e.generation}`;t[n]||(t[n]=[]),t[n].push(e)}),e.forEach(e=>{e.siblings.forEach(n=>{const r=Object.entries(t).find(t=>{let[n,r]=t;return r.some(t=>t.member.id===e.member.id)}),i=Object.entries(t).find(e=>{let[t,r]=e;return r.some(e=>e.member.id===n.member.id)});r&&i&&r[0]!==i[0]&&(r[1].push(...i[1]),delete t[i[0]])})}),console.log("Improved sibling groups by parents:",Object.entries(t).map(e=>{let[t,n]=e;return{parentKey:t,siblings:n.map(e=>`${e.member.first_name} (gen: ${e.generation})`)}})),Object.values(t)}const u=(e,t,n)=>{const r=e.filter(e=>!e.isSpouse),i=e.filter(e=>e.isSpouse);r.sort((e,t)=>{const n=e.spouses.length>0,r=t.spouses.length>0;if(n&&!r)return-1;if(!n&&r)return 1;const i=e=>{if(0===e.children.length)return B;const t=l(e.children);let n=0;return t.forEach((e,r)=>{n+=e.length*B+(e.length-1)*V,r<t.length-1&&(n+=V)}),Math.max(B,n)},a=i(e),s=i(t);if(a!==s)return a-s;const o=e.member.birth_date||"1900-01-01",u=t.member.birth_date||"1900-01-01";return o.localeCompare(u)});const a=[];let s=n;const o=[];r.forEach(e=>{const n=l(e.children);let r=B;if(n.length>0&&e.children.length>0){let e=0;n.forEach((r,i)=>{const{width:a}=u(r,t+1,0);e+=a,i<n.length-1&&(e+=V)}),r=Math.max(B,e)}o.push(r)});let c=0;for(let l=0;l<r.length-1;l++){const e=r[l],t=r[l+1],n=e.children.length,i=t.children.length,a=n+i;let s=V;a>0&&(s=V+20*a,n>0&&i>0&&(s+=60),(n>=3||i>=3)&&(s+=80));const o=e.spouses.length>0,u=t.spouses.length>0;(o||u)&&(s+=110),c+=s}const d=o.reduce((e,t)=>e+t,0)+c;return r.forEach((e,n)=>{const i=l(e.children);let o=B,c=s+90;if(i.length>0&&e.children.length>0){let e=0;i.forEach((n,r)=>{const{width:a}=u(n,t+1,s+e);e+=a,r<i.length-1&&(e+=V)}),o=Math.max(B,e),c=s+o/2}if(n<r.length-1){const t=r[n+1],i=e.children.length,a=t.children.length,l=i+a;let u=V;l>0&&(u=V+20*l,i>0&&a>0&&(u+=60),(i>=3||a>=3)&&(u+=80));const c=e.spouses.length>0,d=t.spouses.length>0;(c||d)&&(u+=110),s+=o+u}else s+=o;e.x=c,e.y=e.generation*q+100,console.log(`Positioned ${e.member.first_name} at generation ${e.generation} (Y: ${e.y})`),a.push(c)}),i.forEach(e=>{if(e.spouseOf){const t=e.spouseOf.x-90-H/3;e.x=t,e.y=e.generation*q+100,console.log(`Positioned spouse ${e.member.first_name} at generation ${e.generation} (Y: ${e.y})`),console.log(`Positioned spouse ${e.member.first_name} next to ${e.spouseOf.member.first_name} at (${Math.round(t)}, ${Math.round(e.y)})`)}}),{width:d,centers:a}},c=f?Array.from(e.values()).find(e=>e.member.id===f.id):void 0;((e,t)=>{console.log("=== STARTING MULTI-GROUP GENERATION ASSIGNMENT ==="),e.forEach(e=>{e.generation=0});const n=[],r=new Set;e.forEach(e=>{if(!r.has(e.member.id)){const t=[],i=[e];for(r.add(e.member.id);i.length>0;){const e=i.shift();t.push(e),[...e.parents,...e.children,...e.spouses,...e.siblings].forEach(e=>{e&&!r.has(e.member.id)&&(r.add(e.member.id),i.push(e))})}n.push(t)}}),console.log(`Found ${n.length} separate family groups:`,n.map((e,t)=>({groupIndex:t,members:e.map(e=>e.member.first_name),size:e.length}))),n.forEach((e,n)=>{let r;if(console.log(`\n=== Processing Family Group ${n} ===`),t&&(r=e.find(e=>e.member.id===t.member.id)),!r){const t=e.filter(e=>0===e.parents.length);r=t.length>0?t[0]:[...e].sort((e,t)=>{const n=e.member.birth_date||"1900-01-01",r=t.member.birth_date||"1900-01-01";return n.localeCompare(r)})[0]}if(!r)return void console.warn(`No starting node found for group ${n}`);const i=new Set,a=[];for(r.generation=0,a.push({node:r,generation:0}),i.add(r.member.id),console.log(`Starting group ${n} generation assignment from ${r.member.first_name}`);a.length>0;){const{node:t,generation:n}=a.shift(),r=(n,r,s)=>{e.some(e=>e.member.id===n.member.id)&&(i.has(n.member.id)?n.generation!==r&&("sibling"!==s&&"spouse"!==s||(console.warn(`  Generation conflict resolved: ${n.member.first_name} moved from generation ${n.generation} to ${r} (${s} relationship takes precedence)`),n.generation=r)):(n.generation=r,a.push({node:n,generation:r}),i.add(n.member.id),console.log(`  Assigned ${n.member.first_name} to generation ${r} (${s} of ${t.member.first_name})`)))};t.siblings.forEach(e=>{r(e,n,"sibling")}),t.spouses.forEach(e=>{r(e,n,"spouse")}),t.children.forEach(e=>{r(e,n+1,"child")}),t.parents.forEach(e=>{r(e,n-1,"parent")})}console.log(`Group ${n} generation assignments:`,e.map(e=>`${e.member.first_name}: gen ${e.generation}`))}),console.log("\n=== FINAL GENERATION ASSIGNMENTS BY GROUP ==="),n.forEach((e,t)=>{console.log(`Group ${t}:`,e.map(e=>`${e.member.first_name}(gen ${e.generation})`))}),console.log("=== MULTI-GROUP GENERATION ASSIGNMENT COMPLETE ===")})(Array.from(e.values()),c);console.log("=== GENERATION ASSIGNMENT COMPLETE - STARTING LAYOUT ==="),a.forEach((e,t)=>{const i=new Set(e.map(e=>e.member.id)),a=e.filter(e=>0===e.parents.filter(e=>i.has(e.member.id)).length),s=e=>{let t=e.children.length;return e.children.forEach(e=>{t+=s(e)}),t},l=e.map(e=>({node:e,descendantCount:s(e)})).sort((e,t)=>t.descendantCount-e.descendantCount);let c=[],d=[],h=[];if(a.forEach(e=>{e.children.length>=2&&0===e.siblings.length&&0===e.spouses.length&&e.children.every(t=>t.siblings.length>0||e.children.length>1)?(d.push(e),console.log(`${e.member.first_name} will be positioned above children:`,e.children.map(e=>e.member.first_name).join(", "))):(h.push(e),console.log(`${e.member.first_name} will be included in main layout`))}),d.length>0){const e=new Set;d.forEach(t=>{t.children.forEach(t=>{i.has(t.member.id)&&e.add(t)})}),e.forEach(e=>{h.includes(e)||h.push(e)})}if(h.length>0)c=h,console.log(`Family group ${t}: Using actual roots:`,c.map(e=>`${e.member.first_name} ${e.member.last_name}`));else if(l.length>0)c=[l[0].node],console.log(`Family group ${t}: Using descendant count fallback:`,`${c[0].member.first_name} ${c[0].member.last_name}`);else{c=[[...e].sort((e,t)=>{const n=e.member.birth_date||"1900-01-01",r=t.member.birth_date||"1900-01-01";return n.localeCompare(r)})[0]],console.log(`Family group ${t}: Using oldest member as root:`,`${c[0].member.first_name} ${c[0].member.last_name}`)}console.log(`Family group ${t}: All members and their parents:`,e.map(e=>`${e.member.first_name} -> parents: [${e.parents.map(e=>e.member.first_name).join(", ")}]`));const f=function(e){const t=[],i=new Set;console.log("=== SIBLING-PRIORITY FAMILY UNIT CREATION ===");const a=(e,t)=>{if(e.isSpouse)return!1;if(r.has(e.member.id))return!0;const n=e.children.some(e=>t.some(t=>t.member.id===e.member.id)),i=e.parents.some(e=>t.some(t=>t.member.id===e.member.id)),a=e.siblings.some(e=>t.some(t=>t.member.id===e.member.id));return n||i||a};return[...e].sort((t,n)=>{const r=a(t,e),i=a(n,e);if(r&&!i)return-1;if(!r&&i)return 1;if(r&&i){const e=t.siblings.length,r=n.siblings.length;if(e!==r)return r-e;const i=t.parents.length+t.children.length;return n.parents.length+n.children.length-i}return n.children.length-t.children.length}).forEach(r=>{if(i.has(r.member.id))return;const a=[],s=(t=>{const n=new Set;n.add(t),t.siblings.forEach(e=>n.add(e));const r=t.parents.map(e=>e.member.id).sort().join("-");return r&&e.forEach(e=>{e.member.id!==t.member.id&&e.parents.map(e=>e.member.id).sort().join("-")===r&&n.add(e)}),Array.from(n)})(r).filter(e=>!i.has(e.member.id));s.forEach(e=>{a.push(e),i.add(e.member.id),console.log(`Added sibling ${e.member.first_name} to family unit`)}),s.forEach(t=>{const r=n.get(t.member.id),s=r?e.find(e=>e.member.id===r):null;s&&!i.has(s.member.id)&&(a.push(s),i.add(s.member.id),console.log(`Added ${t.member.first_name}'s spouse ${s.member.first_name} to family unit`))}),a.length>0&&(a.sort((e,t)=>{const n=e.isSpouse,r=t.isSpouse;if(!n&&r)return-1;if(n&&!r)return 1;if(!n&&!r){const n=e.member.birth_date||"1900-01-01",r=t.member.birth_date||"1900-01-01";return n.localeCompare(r)}return 0}),t.push(a),console.log("Created sibling-priority family unit:",a.map(e=>`${e.member.first_name}${e.isSpouse?" (spouse)":""}`)))}),console.log("=== SIBLING-PRIORITY FAMILY UNIT CREATION COMPLETE ==="),t}(c);let p=0;f.forEach((e,t)=>{const{width:n}=u(e,0,o+p);p+=n+350});const m=new Set,g=e=>{m.add(e.member.id),e.children.forEach(e=>g(e)),e.spouses.forEach(e=>m.add(e.member.id))};f.forEach(e=>{e.forEach(e=>g(e))}),d.forEach(e=>{const t=e.children.filter(e=>m.has(e.member.id));if(t.length>0){const n=t.reduce((e,t)=>e+t.x,0)/t.length,r=Math.min(...t.map(e=>e.y));e.x=n,e.y=r-q,m.add(e.member.id),console.log(`Positioned parent ${e.member.first_name} at (${Math.round(e.x)}, ${Math.round(e.y)}) above children:`,t.map(e=>e.member.first_name).join(", "))}}),e.forEach(e=>{if(!m.has(e.member.id)){const t=e.children.filter(e=>m.has(e.member.id));if(t.length>0){const n=t.reduce((e,t)=>e+t.x,0)/t.length,r=Math.min(...t.map(e=>e.y));e.x=n,e.y=r-q,console.log(`Positioned remaining parent ${e.member.first_name} above children`)}else e.x=o+p+200,e.y=100,console.log(`Positioned orphaned node ${e.member.first_name} separately`)}}),o+=p});const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(t.has(e.member.id))return[];t.add(e.member.id);const n=[e];return[...e.parents,...e.children,...e.siblings,...e.spouses].forEach(e=>{e&&!t.has(e.member.id)&&n.push(...d(e,t))}),n};if(f){const t=Array.from(e.values()).find(e=>e.member.id===f.id);if(t&&t.parents.length>=2){const[r,i]=t.parents;let a=r,s=i;"female"===r.member.gender&&"male"===i.member.gender?(a=r,s=i):"male"===r.member.gender&&"female"===i.member.gender?(a=i,s=r):r.member.birth_date&&i.member.birth_date?r.member.birth_date<i.member.birth_date?(a=r,s=i):(a=i,s=r):r.member.first_name.toLowerCase()<i.member.first_name.toLowerCase()&&(a=r,s=i),console.log(`Family side assignment: ${a.member.first_name} (maternal/left), ${s.member.first_name} (paternal/right)`);const o=t.x,l=o-600,u=o+600,c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.has(e.member.id))return[];t.add(e.member.id);const r=[e];return e.parents.forEach(e=>{t.has(e.member.id)||r.push(...c(e,t,n))}),e.siblings.forEach(e=>{t.has(e.member.id)||r.push(...c(e,t,n))}),e.children.forEach(e=>{if(!t.has(e.member.id)){const i=e.parents.map(e=>e.member.id),o=i.includes(a.member.id)&&i.includes(s.member.id);if(n&&o)return;n&&o||r.push(...c(e,t,n))}}),r},d=c(a,new Set,!0),h=c(s,new Set,!0),f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(t.has(e.member.id))return[];t.add(e.member.id);let n=[];return e.children.forEach(e=>{n.push(e),n.push(...f(e,t))}),n},p=f(t),m=[],g=[],v=[];p.forEach(e=>{const t=e.parents.map(e=>e.member.id),n=t.includes(a.member.id),r=t.includes(s.member.id);if(n&&r)v.push(e);else if(n)m.push(e);else if(r)g.push(e);else{let t=!1,n=!1;e.parents.forEach(e=>{d.some(t=>t.member.id===e.member.id)&&(t=!0),h.some(t=>t.member.id===e.member.id)&&(n=!0)}),t&&!n?m.push(e):n&&!t?g.push(e):v.push(e)}}),console.log("Maternal lineage:",d.map(e=>e.member.first_name)),console.log("Paternal lineage:",h.map(e=>e.member.first_name)),console.log("Maternal-only descendants:",m.map(e=>e.member.first_name)),console.log("Paternal-only descendants:",g.map(e=>e.member.first_name)),console.log("Shared descendants:",v.map(e=>e.member.first_name));const b=l-a.x,y=u-s.x,w=function(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0;t.x+=r,t.y+=i;const s=n.get(t.member.id),o=s?Array.from(e.values()).find(e=>e.member.id===s):null;o?(o.x+=r,o.y+=i,console.log(`${a}: Moved couple unit ${t.member.first_name} + ${o.member.first_name}`)):console.log(`${a}: Moved individual ${t.member.first_name}`)};[...d,...m].forEach(e=>{e.member.id!==t.member.id&&w(e,b,0,"Maternal side")}),[...h,...g].forEach(e=>{e.member.id!==t.member.id&&w(e,y,0,"Paternal side")});const _=(l+u)/2;v.forEach(e=>{if(!e.isSpouse&&Math.abs(e.x-_)>200){const t=.3*(_-e.x);w(e,t,0,"Shared descendant adjustment")}}),a.x=l,s.x=u;const x=t.y-q;a.y=x,s.y=x,console.log("Corrected family side separation complete")}else if(t&&1===t.parents.length){const e=t.parents[0],n=t.x-360-e.x;d(e).forEach(e=>{e.member.id!==t.member.id&&(e.x+=n)}),e.y=t.y-q}const r=new Set,i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;e&&(t.has(e.member.id)||(t.add(e.member.id),r.add(e.member.id),[...e.parents,...e.children,...e.siblings,...e.spouses].forEach(e=>{e&&!t.has(e.member.id)&&i(e,t)})))};i(t);const a=[];Array.from(e.values()).forEach(e=>{if(!r.has(e.member.id)){const t=[],n=new Set,i=e=>{n.has(e.member.id)||(n.add(e.member.id),t.push(e),[...e.parents,...e.children,...e.siblings,...e.spouses].forEach(e=>{!e||n.has(e.member.id)||r.has(e.member.id)||i(e)}))};i(e),t.length>0&&a.push(t)}}),a.forEach((e,n)=>{const r=(t?t.x:0)+1200+350*n-Math.min(...e.map(e=>e.x));e.forEach(e=>{e.x+=r}),console.log(`Positioned step-family ${n+1}:`,e.map(e=>e.member.first_name))})}const h=Array.from(e.values());h.forEach(e=>{if(e.isSpouse&&e.spouseOf){const t=e.spouseOf.x-90-H/3;e.x=t,e.y=e.spouseOf.y,console.log(`FINAL: Re-positioned spouse ${e.member.first_name} next to ${e.spouseOf.member.first_name} at (${Math.round(t)}, ${Math.round(e.y)})`)}});return(e=>{console.log("=== FINAL SPOUSE POSITIONING CHECK ===");const t=[];e.forEach(e=>{if(e.isSpouse&&e.spouseOf){const n=e.spouseOf,r=Math.abs(e.x-n.x);r>300&&(t.push({spouse:e,anchor:n}),console.log(`COUPLE SEPARATION DETECTED: ${e.member.first_name} is ${r}px away from ${n.member.first_name}`))}}),t.forEach(e=>{let{spouse:t,anchor:n}=e;const r=function(e,t){if("female"===e.member.gender&&"male"===t.member.gender)return!0;if("male"===e.member.gender&&"female"===t.member.gender)return!1;if(e.member.birth_date&&t.member.birth_date)return e.member.birth_date<t.member.birth_date;return e.member.first_name.toLowerCase()<t.member.first_name.toLowerCase()}(t,n);let i;i=r?n.x-B-12:n.x+B+12,t.x=i,t.y=n.y,console.log(`COUPLE REUNION: Repositioned ${t.member.first_name} next to ${n.member.first_name} at (${Math.round(i)}, ${Math.round(t.y)})`)}),console.log("=== FINAL SPOUSE POSITIONING COMPLETE ===")})(h),h},[t,n,Y,f]),X=(0,i.useMemo)(()=>{if(0===Q.length)return{minX:0,maxX:400,minY:0,maxY:300,width:400,height:300};const e=Math.min(...Q.map(e=>e.x-90)),t=Math.max(...Q.map(e=>e.x+90)),n=Math.min(...Q.map(e=>e.y-60)),r=Math.max(...Q.map(e=>e.y+60));return{minX:e,maxX:t,minY:n,maxY:r,width:t-e,height:r-n}},[Q]),Z=(0,i.useCallback)((e,t,n)=>{if(!t||!n||e.id===t.id)return"center";if(n.parents.length<2)return"neutral";const r=Array.isArray(n.parents)?n.parents:[],[i,a]=r;if(e.id===i.member.id)return"maternal";if(e.id===a.member.id)return"paternal";const s=Q.find(t=>t.member.id===e.id);if(!s)return"neutral";const o=s.parents.map(e=>e.member.id),l=o.includes(i.member.id),u=o.includes(a.member.id);if(l&&u)return"shared";if(l)return"maternal";if(u)return"paternal";const c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return!t.has(e.member.id)&&(e.member.id===n.member.id||(t.add(e.member.id),[...e.parents,...e.children,...e.siblings,...e.spouses].some(e=>e&&c(e,t))))};return c(s)?"neutral":"step-family"},[Q]),ee=(0,i.useCallback)(e=>{const t=M.current;if(!t)return;const n=t.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top,a=X.width/K,s=X.height/G,o=X.minX+r*a,l=X.minY+i*s,u=document.querySelector(".family-tree-container");if(u){const e=u.getBoundingClientRect(),t=e.width/2,n=e.height/2;k({x:t-o*w,y:n-l*w})}},[w,X]),te=(0,i.useCallback)(e=>{z(!0),ee(e)},[ee]),ne=(0,i.useCallback)(e=>{U&&ee(e)},[U,ee]),re=(0,i.useCallback)(()=>{z(!1)},[]);(0,i.useEffect)(()=>{if(window.innerWidth>768)return;if(!L.current||0===Q.length)return;const e=X.width,t=X.height,n=window.innerWidth,r=window.innerHeight,i=.95*n/e,a=.95*r/t,s=Math.max(.8,Math.min(i,a,1));if(_(s),f){const e=Q.find(e=>e.member.id===f.id);k(e?{x:n/2-e.x,y:r/2-e.y}:{x:n/2-(X.minX+X.maxX)/2*s,y:r/2-(X.minY+X.maxY)/2*s})}else k({x:n/2-(X.minX+X.maxX)/2*s,y:r/2-(X.minY+X.maxY)/2*s})},[Q,f,X]),(0,i.useEffect)(()=>{if(window.innerWidth<=768)return;if(!L.current||0===Q.length||!f)return;const e=Q.find(e=>e.member.id===f.id);if(e){const t=document.querySelector(".family-tree-container");if(t){const n=t.getBoundingClientRect(),r=n.width/2.5,i=n.height/2;k({x:r-e.x,y:i-e.y}),_(1.2)}}},[Q,f]),(0,i.useEffect)(()=>{if(I)return document.body.classList.add("tree-view-active"),()=>{document.body.classList.remove("tree-view-active")}},[I]);const ie=(0,i.useCallback)(e=>{if(g)return;const t=e.target;t!==L.current&&"svg"!==t.tagName||(E(!0),C({x:e.clientX-x.x,y:e.clientY-x.y}),e.preventDefault())},[x,g]),ae=(0,i.useCallback)(e=>{g||S&&(e.preventDefault(),k({x:e.clientX-j.x,y:e.clientY-j.y}))},[S,j,g]),se=(0,i.useCallback)(()=>{g||E(!1)},[g]),oe=((0,i.useCallback)(e=>{if(g)return;e.preventDefault();const t=e.deltaY>0?.9:1.1;_(e=>Math.max(.1,Math.min(3,e*t)))},[g]),(0,i.useCallback)(e=>{if(g)return;const t=e.target;t!==L.current&&"svg"!==t.tagName||1===e.touches.length&&(E(!0),C({x:e.touches[0].clientX-x.x,y:e.touches[0].clientY-x.y}))},[x,g])),le=(0,i.useCallback)(()=>{g||E(!1)},[g]);(0,i.useEffect)(()=>{if(g)return;const e=L.current;if(!e)return;const t=e=>{S&&1===e.touches.length&&(e.preventDefault(),k({x:e.touches[0].clientX-j.x,y:e.touches[0].clientY-j.y}))};return e.addEventListener("touchmove",t,{passive:!1}),()=>e.removeEventListener("touchmove",t)},[S,j,g]);const ue=(0,i.useCallback)((e,t)=>{var n;if(g)return;t.stopPropagation(),t.preventDefault(),"touches"in t&&E(!1);if(window.innerWidth<=768)return T(e),void a(e);const r=document.querySelector(".family-tree-container"),i=null===(n=L.current)||void 0===n?void 0:n.getBoundingClientRect(),s=null===r||void 0===r?void 0:r.getBoundingClientRect();if(!i||!s)return;let o,l;"touches"in t?(o=t.touches[0].clientX,l=t.touches[0].clientY):(o=t.clientX,l=t.clientY);const u=16;let c=o-s.left,d=l-s.top;c+380>s.width-u&&(c=s.width-380-u),c<u&&(c=u),d+600>s.height-u&&(d=s.height-600-u),d<u&&(d=u),O({x:c,y:d}),T(e),a(e)},[g,a]),ce=()=>{T(null)};(0,i.useEffect)(()=>{!s&&N&&T(null)},[s,N]);const de=(0,i.useMemo)(()=>{const e=document.querySelector(".family-tree-container");if(!e)return{x:0,y:0,width:100,height:100};const t=e.getBoundingClientRect();return{x:-x.x/w,y:-x.y/w,width:t.width/w,height:t.height/w}},[x,w]);return 0===t.length||0===t.length?(0,xr.jsxs)("div",{className:"empty-state",children:[(0,xr.jsx)("h2",{children:"Family Tree"}),(0,xr.jsx)("p",{children:"No family members added yet. Add some to see the tree!"})]}):(0,xr.jsxs)("div",{className:"family-tree-container",style:{pointerEvents:g?"none":"auto"},children:[I&&!g&&(0,xr.jsx)("button",{className:"treeview-close-btn",onClick:()=>{b?b():(_(1),k({x:0,y:0}),console.log("Close button clicked - no handler provided"))},"aria-label":"Close family tree",children:"\xd7"}),!g&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("div",{className:"family-tree-controls",children:[(0,xr.jsx)("button",{onClick:()=>J(1.2),className:"control-button",children:"Zoom In"}),(0,xr.jsx)("button",{onClick:()=>J(.9),className:"control-button",children:"Zoom Out"}),(0,xr.jsx)("button",{onClick:()=>{if(f){const e=Q.find(e=>e.member.id===f.id);if(e){const t=document.querySelector(".family-tree-container");if(t){const n=t.getBoundingClientRect(),r=.2*n.width,i=n.height/2,a=1;k({x:r-e.x*a,y:i-e.y*a}),_(a)}}}else _(1),k({x:0,y:0})},className:"control-button secondary",children:"Reset View"}),f&&(0,xr.jsx)("button",{onClick:()=>{const e=Q.find(e=>e.member.id===f.id);if(e){const t=document.querySelector(".family-tree-container");if(t){const n=t.getBoundingClientRect(),r=n.width/2,i=n.height/2,a=1.2;k({x:r-e.x*a,y:i-e.y*a}),_(a)}}},className:"control-button secondary",title:`Center on ${f.first_name} ${f.last_name} (first member)`,children:"Center on First Member"})]}),!y&&v&&(0,xr.jsx)("div",{className:"family-tree-controls-right",children:(0,xr.jsxs)("button",{onClick:v,className:"control-button fullscreen-button",title:"Open in fullscreen view",children:[(0,xr.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,xr.jsx)("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})}),"Fullscreen"]})})]}),!I&&F&&!g&&Q.length>0&&(0,xr.jsxs)("div",{className:"mini-map-container",style:{position:"absolute",bottom:"20px",left:"20px",width:"200px",height:"150px",background:"rgba(255, 255, 255, 0.95)",border:"2px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3,overflow:"hidden"},children:[(0,xr.jsxs)("div",{style:{position:"absolute",top:"4px",left:"4px",right:"4px",height:"20px",display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"12px",fontWeight:"600",color:"#374151",background:"rgba(249, 250, 251, 0.9)",borderRadius:"4px",padding:"0 6px"},children:[(0,xr.jsx)("span",{children:"Mini Map"}),(0,xr.jsx)("button",{onClick:()=>D(!1),style:{background:"none",border:"none",cursor:"pointer",fontSize:"14px",color:"#6B7280",padding:"0",width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Hide mini map",children:"\xd7"})]}),(0,xr.jsxs)("svg",{ref:M,width:K,height:G,style:{cursor:"pointer",marginTop:"24px"},onMouseDown:te,onMouseMove:ne,onMouseUp:re,onMouseLeave:re,children:[Q.map(e=>{const t=15+(e.x-X.minX)/X.width*170,n=15+(e.y-X.minY)/X.height*120;return(0,xr.jsx)("rect",{x:t-3,y:n-2,width:6,height:4,fill:(null===s||void 0===s?void 0:s.id)===e.member.id?"#6366F1":"male"===e.member.gender?"#3B82F6":"female"===e.member.gender?"#EC4899":"other"===e.member.gender?"#10B981":"#9CA3AF",stroke:e.isSpouse?"#FFFFFF":"none",strokeWidth:e.isSpouse?"1":"0",rx:"1"},e.member.id)}),(0,xr.jsx)("rect",{x:Math.max(15,Math.min(184,15+(de.x-X.minX)/X.width*170)),y:Math.max(15,Math.min(134,15+(de.y-X.minY)/X.height*120)),width:Math.min(170,Math.max(1,de.width/X.width*170)),height:Math.min(120,Math.max(1,de.height/X.height*120)),fill:"none",stroke:"#F59E0B",strokeWidth:"2",rx:"2"})]})]}),!I&&!F&&(0,xr.jsx)("button",{onClick:()=>D(!0),style:{position:"absolute",bottom:"20px",left:"20px",background:"rgba(255, 255, 255, 0.95)",border:"2px solid #E5E7EB",borderRadius:"8px",padding:"8px 12px",cursor:"pointer",fontSize:"12px",fontWeight:"600",color:"#374151",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3},title:"Show mini map",children:"Show Mini Map"}),(0,xr.jsxs)("svg",{ref:L,width:"100%",height:"100%",className:"family-tree-svg "+(S?"dragging":"grabbable"),onMouseDown:ie,onMouseMove:ae,onMouseUp:se,onMouseLeave:se,onTouchStart:oe,onTouchEnd:le,style:{userSelect:"none"},children:[(0,xr.jsx)("defs",{children:(0,xr.jsx)("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:(0,xr.jsx)("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#4F46E5"})})}),(0,xr.jsxs)("g",{transform:`translate(${x.x}, ${x.y}) scale(${w})`,children:[(()=>{const e=[];Q.forEach(t=>{t.children.forEach(n=>{const r=t.y+60,i=n.y-60,a=r+(i-r)/2;e.push((0,xr.jsx)("path",{d:`M ${t.x} ${r} L ${t.x} ${a} L ${n.x} ${a} L ${n.x} ${i}`,className:"connection-parent",fill:"none",stroke:"#4F46E5",strokeWidth:"2",markerEnd:"url(#arrowhead)"},`parent-child-${t.member.id}-${n.member.id}`))}),t.spouses.forEach(n=>{if(t.member.id<n.member.id){const r=Math.min(t.x,n.x)+90,i=Math.max(t.x,n.x)-90,a=t.y;e.push((0,xr.jsx)("line",{x1:r,y1:a,x2:i,y2:a,className:"connection-spouse",stroke:"#E11D48",strokeWidth:"3"},`spouse-${t.member.id}-${n.member.id}`))}})});const t=new Set;return Q.forEach(n=>{if(n.siblings.length>0){const r=[n,...n.siblings].filter(e=>e.generation===n.generation).sort((e,t)=>e.x-t.x);if(r.length>1){const n=r[0].y+10;for(let i=0;i<r.length-1;i++){const a=r[i],s=r[i+1],o=[a.member.id,s.member.id].sort().join("-");t.has(o)||(t.add(o),e.push((0,xr.jsx)("line",{x1:a.x+90,y1:n,x2:s.x-90,y2:n,className:"connection-sibling",stroke:"#059669",strokeWidth:"2"},`sibling-${o}`)))}}}}),e})(),Q.filter(e=>e.isSpouse).map(e=>(0,xr.jsxs)("g",{transform:`translate(${e.x-90}, ${e.y-60})`,className:`member-card ${(null===s||void 0===s?void 0:s.id)===e.member.id?"selected":""} ${e.isSpouse?"spouse-card":""} ${(null===f||void 0===f?void 0:f.id)===e.member.id?"first-member":""}`,onClick:t=>ue(e.member,t),style:{cursor:"pointer",pointerEvents:"all",zIndex:e.isSpouse?"1":"2"},children:[(0,xr.jsx)("rect",{width:B,height:W,rx:"12",fill:(null===s||void 0===s?void 0:s.id)===e.member.id?"#EEF2FF":"#FFFFFF",stroke:(()=>{if((null===s||void 0===s?void 0:s.id)===e.member.id)return"#6366F1";switch(e.member.gender){case"male":return"#3B82F6";case"female":return"#EC4899";case"other":return"#10B981";default:return"#E5E7EB"}})(),strokeWidth:(null===s||void 0===s?void 0:s.id)===e.member.id?"3":"2",filter:"url(#cardShadow)",style:{pointerEvents:"all"}}),(0,xr.jsx)("circle",{cx:165,cy:15,r:"10",fill:"#3B82F6",stroke:"#FFFFFF",strokeWidth:"2",style:{cursor:"pointer"},onClick:t=>{t.stopPropagation(),u(e.member)}}),(0,xr.jsx)("text",{x:165,y:20,textAnchor:"middle",fill:"white",fontSize:"14",fontWeight:"bold",style:{pointerEvents:"none"},children:"+"}),(0,xr.jsx)("text",{x:"30",y:"25",textAnchor:"start",className:"member-name-first spouse-name",fill:"#1F2937",fontSize:"14",fontWeight:"600",style:{pointerEvents:"none"},children:e.member.first_name}),(0,xr.jsx)("text",{x:"30",y:"42",textAnchor:"start",className:"member-name-last spouse-name",fill:"#1F2937",fontSize:"14",fontWeight:"600",style:{pointerEvents:"none"},children:e.member.last_name}),e.member.birth_date&&(0,xr.jsxs)("text",{x:90,y:"60",textAnchor:"middle",className:"member-date",fill:"#6B7280",fontSize:"11",style:{pointerEvents:"none"},children:["Born: ",new Date(e.member.birth_date).getFullYear()]}),e.member.death_date&&(0,xr.jsxs)("text",{x:90,y:e.member.birth_date?"75":"60",textAnchor:"middle",className:"member-date",fill:"#6B7280",fontSize:"11",style:{pointerEvents:"none"},children:["Died: ",new Date(e.member.death_date).getFullYear()]}),(0,xr.jsx)("text",{x:160,y:105,textAnchor:"middle",className:"member-gender-icon",fill:(()=>{switch(e.member.gender){case"male":return"#3B82F6";case"female":return"#EC4899";case"other":return"#10B981";default:return"#9CA3AF"}})(),fontSize:"14",fontWeight:"bold",style:{pointerEvents:"none"},children:"male"===e.member.gender?"\u2642":"female"===e.member.gender?"\u2640":"\u26a7"}),!e.member.death_date&&(0,xr.jsx)("circle",{cx:15,cy:105,r:"4",fill:"#3B82F6"})]},e.member.id)),Q.filter(e=>!e.isSpouse).map(e=>(0,xr.jsxs)("g",{transform:`translate(${e.x-90}, ${e.y-60})`,className:`member-card ${(null===s||void 0===s?void 0:s.id)===e.member.id?"selected":""} \n  ${(null===f||void 0===f?void 0:f.id)===e.member.id?"first-member":""}\n  ${(()=>{const t=Q.find(e=>e.member.id===(null===f||void 0===f?void 0:f.id)),n=Z(e.member,f,t);return"center"!==n&&"neutral"!==n?n:""})()}\n  ${e.isSpouse?"spouse-card":""}`,onClick:t=>ue(e.member,t),style:{cursor:"pointer",pointerEvents:"all"},children:[(0,xr.jsx)("rect",{width:B,height:W,rx:"12",fill:(null===s||void 0===s?void 0:s.id)===e.member.id?"#EEF2FF":"#FFFFFF",stroke:(()=>{if((null===s||void 0===s?void 0:s.id)===e.member.id)return"#6366F1";switch(e.member.gender){case"male":return"#3B82F6";case"female":return"#EC4899";case"other":return"#10B981";default:return"#E5E7EB"}})(),strokeWidth:(null===s||void 0===s?void 0:s.id)===e.member.id?"3":"2",filter:"url(#cardShadow)",style:{pointerEvents:"all"}}),(0,xr.jsx)("circle",{cx:165,cy:15,r:"10",fill:"#3B82F6",stroke:"#FFFFFF",strokeWidth:"2",style:{cursor:"pointer"},onClick:t=>{t.stopPropagation(),u(e.member)}}),(0,xr.jsx)("text",{x:165,y:20,textAnchor:"middle",fill:"white",fontSize:"14",fontWeight:"bold",style:{pointerEvents:"none"},children:"+"}),(0,xr.jsx)("text",{x:90,y:"25",textAnchor:"middle",className:"member-name-first",fill:"#1F2937",fontSize:"14",fontWeight:"600",style:{pointerEvents:"none"},children:e.member.first_name}),(0,xr.jsx)("text",{x:90,y:"42",textAnchor:"middle",className:"member-name-last",fill:"#1F2937",fontSize:"14",fontWeight:"600",style:{pointerEvents:"none"},children:e.member.last_name}),e.member.birth_date&&(0,xr.jsxs)("text",{x:90,y:"60",textAnchor:"middle",className:"member-date",fill:"#6B7280",fontSize:"11",style:{pointerEvents:"none"},children:["Born: ",new Date(e.member.birth_date).getFullYear()]}),e.member.death_date&&(0,xr.jsxs)("text",{x:90,y:e.member.birth_date?"75":"60",textAnchor:"middle",className:"member-date",fill:"#6B7280",fontSize:"11",style:{pointerEvents:"none"},children:["Died: ",new Date(e.member.death_date).getFullYear()]}),(0,xr.jsx)("text",{x:160,y:105,textAnchor:"middle",className:"member-gender-icon",fill:(()=>{switch(e.member.gender){case"male":return"#3B82F6";case"female":return"#EC4899";case"other":return"#10B981";default:return"#9CA3AF"}})(),fontSize:"14",fontWeight:"bold",style:{pointerEvents:"none"},children:"male"===e.member.gender?"\u2642":"female"===e.member.gender?"\u2640":"\u26a7"}),!e.member.death_date&&(0,xr.jsx)("circle",{cx:15,cy:105,r:"4",fill:"#3B82F6"}),(null===f||void 0===f?void 0:f.id)===e.member.id&&(0,xr.jsxs)("g",{children:[(0,xr.jsx)("circle",{cx:165,cy:105,r:"12",fill:"#f59e0b",stroke:"#ffffff",strokeWidth:"2"}),(0,xr.jsx)("text",{x:165,y:110,textAnchor:"middle",fill:"white",fontSize:"10",fontWeight:"bold",style:{pointerEvents:"none"},children:"1st"})]})]},e.member.id))]}),(0,xr.jsx)("defs",{children:(0,xr.jsx)("filter",{id:"cardShadow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:(0,xr.jsx)("feDropShadow",{dx:"2",dy:"2",stdDeviation:"3",floodOpacity:"0.2"})})})]}),(0,xr.jsxs)("div",{className:"legend",children:[(0,xr.jsxs)("div",{className:"legend-item",children:[(0,xr.jsx)("div",{className:"legend-line",style:{backgroundColor:"#4F46E5",height:"3px",width:"20px"}}),(0,xr.jsx)("span",{children:"Parent-Child"})]}),(0,xr.jsxs)("div",{className:"legend-item",children:[(0,xr.jsx)("div",{className:"legend-line",style:{backgroundColor:"#E11D48",height:"3px",width:"20px"}}),(0,xr.jsx)("span",{children:"Spouse"})]}),(0,xr.jsxs)("div",{className:"legend-item",children:[(0,xr.jsx)("div",{className:"legend-line",style:{backgroundColor:"#059669",height:"3px",width:"20px"}}),(0,xr.jsx)("span",{children:"Sibling"})]}),f&&(0,xr.jsxs)("div",{className:"legend-item",children:[(0,xr.jsx)("div",{className:"legend-line",style:{backgroundColor:"#f59e0b",height:"3px",width:"20px"}}),(0,xr.jsx)("span",{children:"First Member Created"})]})]}),N&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:1e3},onClick:ce}),(0,xr.jsxs)("div",{className:"member-popup",style:{left:window.innerWidth<=768?void 0:P.x,top:window.innerWidth<=768?void 0:P.y},children:[(0,xr.jsxs)("div",{className:"popup-header",children:[(0,xr.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,xr.jsxs)("h3",{className:"popup-title",children:[N.first_name," ",N.last_name]}),(0,xr.jsx)("button",{onClick:()=>{ce(),d(N)},style:{background:"#10B981",border:"none",cursor:"pointer",fontSize:"14px",color:"white",padding:"0",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},title:"Edit member",children:"\u270e"})]}),(0,xr.jsx)("button",{onClick:ce,className:"popup-close",children:"\xd7"})]}),(0,xr.jsxs)("div",{className:"member-info-section",children:[(0,xr.jsx)("h4",{className:"member-info-title",children:"Member Information"}),(0,xr.jsxs)("div",{className:"member-info-grid",children:[(0,xr.jsxs)("div",{className:"member-info-item",children:[(0,xr.jsx)("span",{className:"member-info-label",children:"Gender:"}),(0,xr.jsx)("span",{className:"member-info-value",children:(0,xr.jsx)("span",{style:{color:(()=>{switch(N.gender){case"male":return"#3B82F6";case"female":return"#EC4899";case"other":return"#10B981";default:return"#9CA3AF"}})(),fontWeight:"bold",fontSize:"16px"},children:"male"===N.gender?"\u2642 Male":"female"===N.gender?"\u2640 Female":"other"===N.gender?"\u26a7 Other":"Not specified"})})]}),N.birth_date&&(0,xr.jsxs)("div",{className:"member-info-item",children:[(0,xr.jsx)("span",{className:"member-info-label",children:"Birth Date:"}),(0,xr.jsx)("span",{className:"member-info-value",children:new Date(N.birth_date).toLocaleDateString()})]}),N.death_date&&(0,xr.jsxs)("div",{className:"member-info-item",children:[(0,xr.jsx)("span",{className:"member-info-label",children:"Death Date:"}),(0,xr.jsx)("span",{className:"member-info-value",children:new Date(N.death_date).toLocaleDateString()})]}),N.notes&&(0,xr.jsxs)("div",{className:"member-info-item full-width",children:[(0,xr.jsx)("span",{className:"member-info-label",children:"Notes:"}),(0,xr.jsx)("span",{className:"member-info-value",children:N.notes})]})]})]}),(0,xr.jsxs)("div",{className:"relationships-section",children:[(0,xr.jsx)("h4",{className:"relationships-title",children:"Direct Relationships"}),(()=>{const e=Y.get(N.id);return e?(0,xr.jsxs)("div",{children:[(0,xr.jsxs)("div",{className:"relationship-group",children:[(0,xr.jsx)("div",{className:"relationship-label",children:"Parents:"}),e.parents.length>0?(0,xr.jsx)("ul",{className:"relationship-list",children:e.parents.map(e=>{let{member:t,relationship:n}=e;return(0,xr.jsxs)("li",{className:"relationship-item",children:[(0,xr.jsxs)("span",{className:"relationship-name",children:[t.first_name," ",t.last_name]}),(0,xr.jsx)("button",{onClick:()=>o(n.id),className:"delete-relationship-btn",children:"Delete"})]},t.id)})}):(0,xr.jsx)("span",{className:"relationship-none",children:"None"})]}),(0,xr.jsxs)("div",{className:"relationship-group",children:[(0,xr.jsx)("div",{className:"relationship-label",children:"Children:"}),e.children.length>0?(0,xr.jsx)("ul",{className:"relationship-list",children:e.children.map(e=>{let{member:t,relationship:n}=e;return(0,xr.jsxs)("li",{className:"relationship-item",children:[(0,xr.jsxs)("span",{className:"relationship-name",children:[t.first_name," ",t.last_name]}),(0,xr.jsx)("button",{onClick:()=>o(n.id),className:"delete-relationship-btn",children:"Delete"})]},t.id)})}):(0,xr.jsx)("span",{className:"relationship-none",children:"None"})]}),(0,xr.jsxs)("div",{className:"relationship-group",children:[(0,xr.jsx)("div",{className:"relationship-label",children:"Spouses:"}),e.spouses.length>0?(0,xr.jsx)("ul",{className:"relationship-list",children:e.spouses.map(e=>{let{member:t,relationship:n}=e;return(0,xr.jsxs)("li",{className:"relationship-item",children:[(0,xr.jsxs)("span",{className:"relationship-name",children:[t.first_name," ",t.last_name]}),(0,xr.jsx)("button",{onClick:()=>o(n.id),className:"delete-relationship-btn",children:"Delete"})]},t.id)})}):(0,xr.jsx)("span",{className:"relationship-none",children:"None"})]}),(0,xr.jsxs)("div",{className:"relationship-group",children:[(0,xr.jsx)("div",{className:"relationship-label",children:"Siblings:"}),e.siblings.length>0?(0,xr.jsx)("ul",{className:"relationship-list",children:e.siblings.map(e=>{let{member:t,relationship:n}=e;return(0,xr.jsxs)("li",{className:"relationship-item",children:[(0,xr.jsxs)("span",{className:"relationship-name",children:[t.first_name," ",t.last_name]}),(0,xr.jsx)("button",{onClick:()=>o(n.id),className:"delete-relationship-btn",children:"Delete"})]},t.id)})}):(0,xr.jsx)("span",{className:"relationship-none",children:"None"})]})]}):(0,xr.jsx)("p",{children:"No relationships found."})})()]}),(0,xr.jsxs)("div",{className:"popup-actions",children:[(0,xr.jsxs)("button",{onClick:()=>{ce(),N&&u(N)},className:"popup-action-btn success",children:["Add Related Member to ",N.first_name]}),(0,xr.jsxs)("button",{onClick:()=>{ce(),N&&c(N)},className:"popup-action-btn info",children:["Add Existing Relationship to ",N.first_name]}),(0,xr.jsxs)("button",{onClick:()=>{r(N.id),ce()},className:"popup-action-btn danger",children:["Delete ",N.first_name]}),(0,xr.jsx)("button",{onClick:()=>{a(N),ce()},className:"popup-action-btn secondary",children:"Clear Selection"})]})]})]})]})},Pr=e=>{let{familyMembers:t,relationships:n,onDeleteMember:r,onSelectMember:a,selectedMember:s,onDeleteRelationship:o,onAddMember:l,onAddRelatedMember:u,onAddExistingRelationship:c,onEditMember:d,onClose:h,firstMember:f,isFullscreen:p=!0}=e;const[m,g]=(0,i.useState)(null),[v,b]=(0,i.useState)(null),y=(0,i.useRef)(null),w=(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=e=>{"Escape"===e.key&&h();const t=document.activeElement;t&&("INPUT"===t.tagName||"BUTTON"===t.tagName||"TEXTAREA"===t.tagName)||("ArrowLeft"===e.key?(e.preventDefault(),S("left")):"ArrowRight"===e.key?(e.preventDefault(),S("right")):"ArrowUp"===e.key?(e.preventDefault(),S("up")):"ArrowDown"===e.key&&(e.preventDefault(),S("down")))};return window.addEventListener("keydown",e),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[h]);const _=()=>y.current?y.current.querySelector(".family-tree-container"):null,x=e=>{const t=_();if(!t)return;const n=t.getBoundingClientRect(),r=Math.min(50,.1*n.width);let i=0,a=0;switch(e){case"left":i=r;break;case"right":i=-r;break;case"up":a=r;break;case"down":a=-r}g({dx:i,dy:a}),setTimeout(()=>{g(null)},50)},k=e=>{b(e),setTimeout(()=>{b(null)},50)},S=e=>{x(e)},E=e=>{x(e),w.current=setInterval(()=>{x(e)},100)},j=()=>{w.current&&(clearInterval(w.current),w.current=null)};return(0,xr.jsx)("div",{className:"family-tree-modal-overlay",children:(0,xr.jsxs)("div",{className:"family-tree-modal-content",children:[(0,xr.jsx)("button",{className:"family-tree-modal-close-btn",onClick:h,"aria-label":"Close fullscreen family tree",children:"\xd7"}),(0,xr.jsxs)("div",{className:"family-tree-navigation-controls",children:[(0,xr.jsxs)("div",{className:"navigation-arrows",children:[(0,xr.jsx)("button",{className:"nav-btn nav-btn-up",onMouseDown:()=>E("up"),onMouseUp:j,onMouseLeave:j,onTouchStart:()=>E("up"),onTouchEnd:j,"aria-label":"Pan up",title:"Pan up",children:"\u2191"}),(0,xr.jsxs)("div",{className:"nav-horizontal",children:[(0,xr.jsx)("button",{className:"nav-btn nav-btn-left",onMouseDown:()=>E("left"),onMouseUp:j,onMouseLeave:j,onTouchStart:()=>E("left"),onTouchEnd:j,"aria-label":"Pan left",title:"Pan left",children:"\u2190"}),(0,xr.jsx)("button",{className:"nav-btn nav-btn-center",onClick:()=>{const e=_();if(e){const t=Array.from(e.querySelectorAll("button")),n=t.find(e=>{var t,n,r;return(null===(t=e.textContent)||void 0===t?void 0:t.includes("Center on First Member"))||(null===(n=e.textContent)||void 0===n?void 0:n.includes("Center"))||(null===(r=e.title)||void 0===r?void 0:r.includes("Center"))});if(n)return n.click(),void console.log("Clicked existing center button");const r=t.find(e=>{var t,n;return(null===(t=e.textContent)||void 0===t?void 0:t.includes("Reset View"))||(null===(n=e.textContent)||void 0===n?void 0:n.includes("Reset"))});if(r)return r.click(),void console.log("Clicked reset view button")}console.log("No center button found")},"aria-label":"Center view",title:"Center view",children:"\u2302"}),(0,xr.jsx)("button",{className:"nav-btn nav-btn-right",onMouseDown:()=>E("right"),onMouseUp:j,onMouseLeave:j,onTouchStart:()=>E("right"),onTouchEnd:j,"aria-label":"Pan right",title:"Pan right",children:"\u2192"})]}),(0,xr.jsx)("button",{className:"nav-btn nav-btn-down",onMouseDown:()=>E("down"),onMouseUp:j,onMouseLeave:j,onTouchStart:()=>E("down"),onTouchEnd:j,"aria-label":"Pan down",title:"Pan down",children:"\u2193"})]}),(0,xr.jsxs)("div",{className:"zoom-controls",children:[(0,xr.jsx)("button",{className:"nav-btn zoom-btn",onClick:()=>{k(1.1),console.log("Zoom in triggered")},"aria-label":"Zoom in",title:"Zoom in",children:"+"}),(0,xr.jsx)("button",{className:"nav-btn zoom-btn",onClick:()=>{k(.9),console.log("Zoom out triggered")},"aria-label":"Zoom out",title:"Zoom out",children:"\u2212"})]})]}),(0,xr.jsx)("div",{className:"navigation-instructions",children:"Use arrow keys or buttons to pan \u2022 +/- buttons for quick zoom \u2022 ESC to close"}),(0,xr.jsx)("div",{ref:y,className:"family-tree-scrollable-container",children:(0,xr.jsx)(Tr,{familyMembers:t,relationships:n,onDeleteMember:r,onSelectMember:a,selectedMember:s,onDeleteRelationship:o,onAddMember:l,onAddRelatedMember:u,onAddExistingRelationship:c,onEditMember:d,firstMember:f,externalPan:m,externalZoom:v,onClose:h,isFullscreen:p})})]})})},Or=e=>{let{onMemberAdded:t,onCancel:n}=e;const{user:r}=Sr(),[a,s]=(0,i.useState)({firstName:"",lastName:"",birthDate:"",deathDate:"",gender:"male",notes:""}),[o,l]=(0,i.useState)(!1),[u,c]=(0,i.useState)(""),d=e=>{const{name:t,value:n}=e.target;s(e=>({...e,[t]:n}))};return(0,xr.jsxs)("div",{style:{padding:"10px"},children:[(0,xr.jsx)("h2",{style:{marginTop:0,marginBottom:"15px",fontSize:"16px"},children:"Add Family Member"}),u&&(0,xr.jsx)("div",{className:"alert alert-error",style:{marginBottom:"10px"},children:u}),(0,xr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r)if(a.firstName.trim()&&a.lastName.trim())try{l(!0),c("");const e={user_id:r.id,first_name:a.firstName.trim(),last_name:a.lastName.trim(),birth_date:a.birthDate||null,death_date:a.deathDate||null,gender:a.gender,notes:a.notes.trim()||null},{data:n,error:i}=await _r.from("family_members").insert([e]).select().single();if(i)throw i;n&&(t(n),s({firstName:"",lastName:"",birthDate:"",deathDate:"",gender:"male",notes:""}))}catch(u){console.error("Error adding family member:",u),c(u.message||"Failed to add family member")}finally{l(!1)}else c("First name and last name are required");else c("You must be logged in to add family members")},children:[(0,xr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[(0,xr.jsxs)("div",{className:"form-group",style:{marginBottom:"10px"},children:[(0,xr.jsx)("label",{htmlFor:"firstName",children:"First Name *"}),(0,xr.jsx)("input",{id:"firstName",name:"firstName",type:"text",className:"form-control",value:a.firstName,onChange:d,required:!0})]}),(0,xr.jsxs)("div",{className:"form-group",style:{marginBottom:"10px"},children:[(0,xr.jsx)("label",{htmlFor:"lastName",children:"Last Name *"}),(0,xr.jsx)("input",{id:"lastName",name:"lastName",type:"text",className:"form-control",value:a.lastName,onChange:d,required:!0})]})]}),(0,xr.jsxs)("div",{className:"form-group",style:{marginBottom:"10px"},children:[(0,xr.jsx)("label",{htmlFor:"gender",children:"Gender"}),(0,xr.jsxs)("select",{id:"gender",name:"gender",className:"form-control",value:a.gender,onChange:d,children:[(0,xr.jsx)("option",{value:"male",children:"Male"}),(0,xr.jsx)("option",{value:"female",children:"Female"}),(0,xr.jsx)("option",{value:"other",children:"Other"})]})]}),(0,xr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[(0,xr.jsxs)("div",{className:"form-group",style:{marginBottom:"10px"},children:[(0,xr.jsx)("label",{htmlFor:"birthDate",children:"Birth Date"}),(0,xr.jsx)("input",{id:"birthDate",name:"birthDate",type:"date",className:"form-control",value:a.birthDate,onChange:d})]}),(0,xr.jsxs)("div",{className:"form-group",style:{marginBottom:"10px"},children:[(0,xr.jsx)("label",{htmlFor:"deathDate",children:"Death Date (if applicable)"}),(0,xr.jsx)("input",{id:"deathDate",name:"deathDate",type:"date",className:"form-control",value:a.deathDate,onChange:d})]})]}),(0,xr.jsxs)("div",{className:"form-group",style:{marginBottom:"10px"},children:[(0,xr.jsx)("label",{htmlFor:"notes",children:"Notes"}),(0,xr.jsx)("textarea",{id:"notes",name:"notes",className:"form-control",value:a.notes,onChange:d,rows:2,placeholder:"Additional information about this family member..."})]}),(0,xr.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[(0,xr.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:o,children:o?"Adding...":"Add Family Member"}),(0,xr.jsx)("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancel"})]})]})]})},Rr=e=>{let{mode:t,selectedFamilyMember:n,onRelationAdded:r,onCancel:a,familyMembers:s=[],existingRelationships:o=[]}=e;const{user:l}=Sr(),[u,c]=(0,i.useState)(""),[d,h]=(0,i.useState)(""),[f,p]=(0,i.useState)(""),[m,g]=(0,i.useState)(!1),[v,b]=(0,i.useState)(!1),[y,w]=(0,i.useState)(""),[_,x]=(0,i.useState)(""),[k,S]=(0,i.useState)(""),[E,j]=(0,i.useState)(""),[C,N]=(0,i.useState)(""),[T,P]=(0,i.useState)(""),[O,R]=(0,i.useState)((null===n||void 0===n?void 0:n.id)||""),[$,I]=(0,i.useState)(""),[A,L]=(0,i.useState)(""),M=(e,t)=>{if(!e.trim())return s.filter(e=>!t||e.id!==t);const n=e.toLowerCase();return s.filter(e=>{if(t&&e.id===t)return!1;const r=`${e.first_name} ${e.last_name}`.toLowerCase(),i=e.first_name.toLowerCase(),a=e.last_name.toLowerCase();return r.includes(n)||i.includes(n)||a.includes(n)})},F=e=>{const t=s.find(t=>t.id===e);return t?`${t.first_name} ${t.last_name}`:""};(0,i.useEffect)(()=>{const e=e=>{e.target.closest(".searchable-dropdown")||(g(!1),b(!1))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,i.useEffect)(()=>{n&&h(`${n.first_name} ${n.last_name}`)},[n]);return(0,xr.jsx)("div",{className:"card",style:{padding:"10px",margin:"0",marginBottom:"10px"},children:(0,xr.jsxs)("div",{className:"card-body",style:{padding:"10px",marginBottom:"80px"},children:["add_new_related"===t&&(0,xr.jsxs)("h5",{className:"card-title",style:{fontSize:"16px",marginBottom:"15px"},children:["Add New Member ",n?`to ${n.first_name} ${n.last_name}`:""]}),"add_existing_relation"===t&&(0,xr.jsx)("h5",{className:"card-title",style:{fontSize:"16px",marginBottom:"15px"},children:"Add Existing Relationship"}),u&&(0,xr.jsx)("div",{className:"alert alert-danger",children:u}),(0,xr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c(""),l){if("add_new_related"===t){if(!y||!_||!T)return void c("Please fill in all required fields for the new member.");try{const{data:e,error:t}=await _r.from("family_members").insert({user_id:l.id,first_name:y,last_name:_,birth_date:k||null,death_date:E||null,gender:C||null}).select().single();if(t)throw t;const i=e;if(n){let e,t,r,a=null;switch(T){case"parent":e=i.id,t=n.id,r="parent",a="child";break;case"child":e=n.id,t=i.id,r="parent",a="child";break;case"spouse":e=n.id,t=i.id,r="spouse";break;case"sibling":e=n.id,t=i.id,r="sibling";break;default:throw new Error("Invalid relationship type")}const{error:s}=await _r.from("relationships").insert({user_id:l.id,person1_id:e,person2_id:t,relationship_type:r});if(s)throw s;if(a){const{error:n}=await _r.from("relationships").insert({user_id:l.id,person1_id:t,person2_id:e,relationship_type:a});n&&console.warn("Failed to add reciprocal relationship:",n)}await(async(e,t,n)=>{if("sibling"===n){const n=o.filter(e=>(e.person1_id===t.id||e.person2_id===t.id)&&"sibling"===e.relationship_type).map(e=>e.person1_id===t.id?e.person2_id:e.person1_id);for(const t of n){const{error:n}=await _r.from("relationships").insert({user_id:l.id,person1_id:e.id,person2_id:t,relationship_type:"sibling"});n&&console.warn("Failed to add sibling relationship:",n);const{error:r}=await _r.from("relationships").insert({user_id:l.id,person1_id:t,person2_id:e.id,relationship_type:"sibling"});r&&console.warn("Failed to add reciprocal sibling relationship:",r)}}if("spouse"===n){const n=o.filter(e=>(e.person1_id===t.id||e.person2_id===t.id)&&"parent"===e.relationship_type);for(const i of n){const n=i.person1_id===t.id?i.person2_id:i.person1_id,{error:r}=await _r.from("relationships").insert({user_id:l.id,person1_id:e.id,person2_id:n,relationship_type:"parent"});r&&console.warn("Failed to add parent relationship from spouse to child:",r);const{error:a}=await _r.from("relationships").insert({user_id:l.id,person1_id:n,person2_id:e.id,relationship_type:"child"});a&&console.warn("Failed to add child relationship from child to spouse:",a)}const r=o.filter(t=>(t.person1_id===e.id||t.person2_id===e.id)&&"parent"===t.relationship_type);for(const i of r){const n=i.person1_id===e.id?i.person2_id:i.person1_id,{error:r}=await _r.from("relationships").insert({user_id:l.id,person1_id:t.id,person2_id:n,relationship_type:"parent"});r&&console.warn("Failed to add parent relationship from selected to child:",r);const{error:a}=await _r.from("relationships").insert({user_id:l.id,person1_id:n,person2_id:t.id,relationship_type:"child"});a&&console.warn("Failed to add child relationship from child to selected:",a)}}if("child"===n){const n=o.filter(e=>e.person1_id===t.id&&"parent"===e.relationship_type);for(const t of n){const n=t.person2_id;if(n!==e.id){const{error:t}=await _r.from("relationships").insert({user_id:l.id,person1_id:e.id,person2_id:n,relationship_type:"sibling"});t&&console.warn("Failed to add sibling relationship:",t);const{error:r}=await _r.from("relationships").insert({user_id:l.id,person1_id:n,person2_id:e.id,relationship_type:"sibling"});r&&console.warn("Failed to add reciprocal sibling relationship:",r)}}}})(i,n,T)}r&&r(i),w(""),x(""),S(""),j(""),N(""),P("")}catch(i){console.error("Error adding family member and relationship:",i),c(i.message||"Failed to add family member and relationship.")}}else if("add_existing_relation"===t){if(!O||!$||!A)return void c("Please select both family members and a relationship type.");if(O===$)return void c("Cannot create a relationship with the same person.");if(o.some(e=>e.person1_id===O&&e.person2_id===$&&e.relationship_type===A||e.person1_id===$&&e.person2_id===O&&e.relationship_type===A))return void c("This relationship already exists.");try{const{data:e,error:t}=await _r.from("relationships").insert({user_id:l.id,person1_id:O,person2_id:$,relationship_type:A}).select().single();if(t)throw t;let n=null;switch(A){case"parent":n="child";break;case"child":n="parent";break;case"spouse":n="spouse";break;case"sibling":n="sibling"}if(n){const{error:e}=await _r.from("relationships").insert({user_id:l.id,person1_id:$,person2_id:O,relationship_type:n});e&&console.warn("Failed to add reciprocal relationship:",e)}r&&r(e),R(""),I(""),L("")}catch(i){console.error("Error adding existing relationship:",i),c(i.message||"Failed to add existing relationship.")}}}else c("You must be logged in to add a relationship.")},children:["add_new_related"===t&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("div",{className:"mb-3",style:{marginBottom:"10px"},children:[(0,xr.jsx)("label",{htmlFor:"newMemberFirstName",className:"form-label",children:"First Name"}),(0,xr.jsx)("input",{type:"text",className:"form-control",id:"newMemberFirstName",value:y,onChange:e=>w(e.target.value),required:!0})]}),(0,xr.jsxs)("div",{className:"mb-3",style:{marginBottom:"10px"},children:[(0,xr.jsx)("label",{htmlFor:"newMemberLastName",className:"form-label",children:"Last Name"}),(0,xr.jsx)("input",{type:"text",className:"form-control",id:"newMemberLastName",value:_,onChange:e=>x(e.target.value),required:!0})]}),(0,xr.jsxs)("div",{className:"mb-3",style:{marginBottom:"10px"},children:[(0,xr.jsx)("label",{htmlFor:"newMemberBirthDate",className:"form-label",children:"Birth Date (Optional)"}),(0,xr.jsx)("input",{type:"date",className:"form-control",id:"newMemberBirthDate",value:k,onChange:e=>S(e.target.value)})]}),(0,xr.jsxs)("div",{className:"mb-3",style:{marginBottom:"10px"},children:[(0,xr.jsx)("label",{htmlFor:"newMemberDeathDate",className:"form-label",children:"Death Date (Optional)"}),(0,xr.jsx)("input",{type:"date",className:"form-control",id:"newMemberDeathDate",value:E,onChange:e=>j(e.target.value)})]}),(0,xr.jsxs)("div",{className:"mb-3",style:{marginBottom:"10px"},children:[(0,xr.jsx)("label",{htmlFor:"newMemberGender",className:"form-label",children:"Gender (Optional)"}),(0,xr.jsxs)("select",{className:"form-select",id:"newMemberGender",value:C,onChange:e=>N(e.target.value),children:[(0,xr.jsx)("option",{value:"",children:"Select Gender"}),(0,xr.jsx)("option",{value:"male",children:"Male"}),(0,xr.jsx)("option",{value:"female",children:"Female"}),(0,xr.jsx)("option",{value:"other",children:"Other"})]})]}),n&&(0,xr.jsxs)("div",{className:"mb-3",style:{marginBottom:"10px"},children:[(0,xr.jsxs)("label",{htmlFor:"newRelatedRelationshipType",className:"form-label",children:["Relationship to ",n.first_name]}),(0,xr.jsxs)("select",{className:"form-select",id:"newRelatedRelationshipType",value:T,onChange:e=>P(e.target.value),required:!0,children:[(0,xr.jsx)("option",{value:"",children:"Select Relationship"}),(0,xr.jsxs)("option",{value:"parent",children:["Parent (will be positioned above ",n.first_name,")"]}),(0,xr.jsxs)("option",{value:"child",children:["Child (will be positioned below ",n.first_name,")"]}),(0,xr.jsxs)("option",{value:"spouse",children:["Spouse (will be positioned next to ",n.first_name,")"]}),(0,xr.jsxs)("option",{value:"sibling",children:["Sibling (will be positioned at the same level as ",n.first_name,")"]})]})]})]}),"add_existing_relation"===t&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("div",{className:"mb-3",style:{marginBottom:"10px"},children:[(0,xr.jsx)("label",{htmlFor:"person1",className:"form-label",children:"Family Member 1"}),n?(0,xr.jsx)("input",{type:"text",className:"form-control",id:"person1",value:`${n.first_name} ${n.last_name}`,disabled:!0}):(0,xr.jsxs)("div",{style:{position:"relative"},className:"searchable-dropdown",children:[(0,xr.jsx)("input",{type:"text",className:"form-control",placeholder:"Search for a family member...",value:d,onChange:e=>{h(e.target.value),g(!0),e.target.value.trim()||R("")},onFocus:()=>g(!0),required:!0}),m&&(0,xr.jsxs)("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #ced4da",borderRadius:"0.375rem",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[M(d,$).map(e=>(0,xr.jsxs)("div",{style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid #f8f9fa",backgroundColor:O===e.id?"#e9ecef":"white"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=O===e.id?"#e9ecef":"white"},onClick:()=>{R(e.id),h(`${e.first_name} ${e.last_name}`),g(!1)},children:[e.first_name," ",e.last_name]},e.id)),0===M(d,$).length&&(0,xr.jsx)("div",{style:{padding:"8px 12px",color:"#6c757d",fontStyle:"italic"},children:"No members found"})]}),O&&(0,xr.jsxs)("div",{style:{marginTop:"4px",fontSize:"12px",color:"#6c757d"},children:["Selected: ",F(O)]})]})]}),(0,xr.jsxs)("div",{className:"mb-3",style:{marginBottom:"10px"},children:[(0,xr.jsx)("label",{htmlFor:"person2",className:"form-label",children:"Family Member 2"}),(0,xr.jsxs)("div",{style:{position:"relative"},className:"searchable-dropdown",children:[(0,xr.jsx)("input",{type:"text",className:"form-control",placeholder:"Search for a family member...",value:f,onChange:e=>{p(e.target.value),b(!0),e.target.value.trim()||I("")},onFocus:()=>b(!0),required:!0}),v&&(0,xr.jsxs)("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #ced4da",borderRadius:"0.375rem",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[M(f,O).map(e=>(0,xr.jsxs)("div",{style:{padding:"8px 12px",cursor:"pointer",borderBottom:"1px solid #f8f9fa",backgroundColor:$===e.id?"#e9ecef":"white"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#f8f9fa"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor=$===e.id?"#e9ecef":"white"},onClick:()=>{I(e.id),p(`${e.first_name} ${e.last_name}`),b(!1)},children:[e.first_name," ",e.last_name]},e.id)),0===M(f,O).length&&(0,xr.jsx)("div",{style:{padding:"8px 12px",color:"#6c757d",fontStyle:"italic"},children:"No members found"})]}),$&&(0,xr.jsxs)("div",{style:{marginTop:"4px",fontSize:"12px",color:"#6c757d"},children:["Selected: ",F($)]})]})]}),(0,xr.jsxs)("div",{className:"mb-3",style:{marginBottom:"10px"},children:[(0,xr.jsx)("label",{htmlFor:"existingRelationshipType",className:"form-label",children:"Relationship Type"}),(0,xr.jsxs)("select",{className:"form-select",id:"existingRelationshipType",value:A,onChange:e=>L(e.target.value),required:!0,children:[(0,xr.jsx)("option",{value:"",children:"Select type"}),(0,xr.jsx)("option",{value:"parent",children:"Parent (person 1 is parent of person 2)"}),(0,xr.jsx)("option",{value:"child",children:"Child (person 1 is child of person 2)"}),(0,xr.jsx)("option",{value:"spouse",children:"Spouse (person 1 and person 2 are spouses)"}),(0,xr.jsx)("option",{value:"sibling",children:"Sibling (person 1 and person 2 are siblings)"})]})]})]}),(0,xr.jsxs)("div",{className:"d-flex justify-content-end",style:{marginTop:"15px"},children:[(0,xr.jsx)("button",{type:"button",className:"btn btn-secondary me-2",onClick:a,children:"Cancel"}),(0,xr.jsx)("button",{type:"submit",className:"btn btn-primary",children:"add_new_related"===t?"Add Member & Relate":"Add Relationship"})]})]})]})})},$r=e=>{let{member:t,onMemberUpdated:n,onCancel:r}=e;const{user:a}=Sr(),[s,o]=(0,i.useState)({firstName:t.first_name,lastName:t.last_name,birthDate:t.birth_date||"",deathDate:t.death_date||"",gender:t.gender,notes:t.notes||""}),[l,u]=(0,i.useState)(!1),[c,d]=(0,i.useState)(""),h=e=>{const{name:t,value:n}=e.target;o(e=>({...e,[t]:n}))};return(0,xr.jsxs)("div",{children:[(0,xr.jsx)("h2",{style:{marginTop:0},children:"Edit Family Member"}),c&&(0,xr.jsx)("div",{className:"alert alert-error",children:c}),(0,xr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),a)if(s.firstName.trim()&&s.lastName.trim())try{u(!0),d("");const e={first_name:s.firstName.trim(),last_name:s.lastName.trim(),birth_date:s.birthDate||null,death_date:s.deathDate||null,gender:s.gender,notes:s.notes.trim()||null},{data:r,error:i}=await _r.from("family_members").update(e).eq("id",t.id).select().single();if(i)throw i;r&&n(r)}catch(c){console.error("Error updating family member:",c),d(c.message||"Failed to update family member")}finally{u(!1)}else d("First name and last name are required");else d("You must be logged in to edit family members")},children:[(0,xr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,xr.jsxs)("div",{className:"form-group",children:[(0,xr.jsx)("label",{htmlFor:"firstName",children:"First Name *"}),(0,xr.jsx)("input",{id:"firstName",name:"firstName",type:"text",className:"form-control",value:s.firstName,onChange:h,required:!0})]}),(0,xr.jsxs)("div",{className:"form-group",children:[(0,xr.jsx)("label",{htmlFor:"lastName",children:"Last Name *"}),(0,xr.jsx)("input",{id:"lastName",name:"lastName",type:"text",className:"form-control",value:s.lastName,onChange:h,required:!0})]})]}),(0,xr.jsxs)("div",{className:"form-group",children:[(0,xr.jsx)("label",{htmlFor:"gender",children:"Gender"}),(0,xr.jsxs)("select",{id:"gender",name:"gender",className:"form-control",value:s.gender,onChange:h,children:[(0,xr.jsx)("option",{value:"male",children:"Male"}),(0,xr.jsx)("option",{value:"female",children:"Female"}),(0,xr.jsx)("option",{value:"other",children:"Other"})]})]}),(0,xr.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,xr.jsxs)("div",{className:"form-group",children:[(0,xr.jsx)("label",{htmlFor:"birthDate",children:"Birth Date"}),(0,xr.jsx)("input",{id:"birthDate",name:"birthDate",type:"date",className:"form-control",value:s.birthDate,onChange:h})]}),(0,xr.jsxs)("div",{className:"form-group",children:[(0,xr.jsx)("label",{htmlFor:"deathDate",children:"Death Date (if applicable)"}),(0,xr.jsx)("input",{id:"deathDate",name:"deathDate",type:"date",className:"form-control",value:s.deathDate,onChange:h})]})]}),(0,xr.jsxs)("div",{className:"form-group",children:[(0,xr.jsx)("label",{htmlFor:"notes",children:"Notes"}),(0,xr.jsx)("textarea",{id:"notes",name:"notes",className:"form-control",value:s.notes,onChange:h,rows:3,placeholder:"Additional information about this family member..."})]}),(0,xr.jsxs)("div",{style:{display:"flex",gap:"1rem",marginTop:"1.5rem"},children:[(0,xr.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:l,children:l?"Updating...":"Update Family Member"}),(0,xr.jsx)("button",{type:"button",onClick:r,className:"btn btn-secondary",children:"Cancel"})]})]})]})},Ir=()=>{const{user:e}=Sr(),t=ee(),[n,r]=(0,i.useState)([]),[a,s]=(0,i.useState)([]),[o,l]=(0,i.useState)(!0),[u,c]=(0,i.useState)(""),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)("none"),[m,g]=(0,i.useState)(!1),[v,b]=(0,i.useState)(null),[y,w]=(0,i.useState)(null),[_,x]=(0,i.useState)(!1),k=n.length>0?n[0]:null;(0,i.useEffect)(()=>{e?S():t("/login")},[e,t]);const S=async()=>{try{l(!0),c("");const{data:t,error:n}=await _r.from("family_members").select("*").eq("user_id",null===e||void 0===e?void 0:e.id).order("created_at");if(n)throw n;const{data:i,error:a}=await _r.from("relationships").select("*").eq("user_id",null===e||void 0===e?void 0:e.id).order("created_at");if(a)throw a;r(t||[]),s(i||[])}catch(u){console.error("Error fetching data:",u),c(u.message||"Failed to load family data")}finally{l(!1)}},E=e=>{b(e),g(!0)},j=async t=>{if(!e||!e.id)return c("User not logged in or user ID not available."),void console.error("Deletion failed: User not logged in or user ID not available.");if(window.confirm("Are you sure you want to delete this family member? This will also delete all their relationships."))try{const{error:n}=await _r.from("relationships").delete().or(`person1_id.eq.${t},person2_id.eq.${t}`);if(n)return console.error("Error deleting relationships:",n),void c("Failed to delete relationships");const{error:i}=await _r.from("family_members").delete().eq("id",t).eq("user_id",e.id);if(i)return console.error("Error deleting family member:",i),void c("Failed to delete family member");r(e=>e.filter(e=>e.id!==t)),s(e=>e.filter(e=>e.person1_id!==t&&e.person2_id!==t)),(null===y||void 0===y?void 0:y.id)===t&&w(null),h(!1),p("none"),g(!1),b(null),console.log("Family member and relationships deleted successfully")}catch(u){console.error("Error deleting family member:",u),c(u.message||"Failed to delete family member")}},C=async t=>{if(!e||!e.id)return c("User not logged in or user ID not available."),void console.error("Deletion failed: User not logged in or user ID not available.");if(window.confirm("Are you sure you want to delete this relationship?"))try{const{error:n}=await _r.from("relationships").delete().eq("id",t).eq("user_id",e.id);if(n)return console.error("Error deleting relationship:",n),void c("Failed to delete relationship");s(e=>e.filter(e=>e.id!==t)),console.log("Relationship deleted successfully")}catch(u){console.error("Error deleting relationship:",u),c(u.message||"Failed to delete relationship")}};return o?(0,xr.jsx)("div",{className:"container",children:(0,xr.jsx)("div",{className:"loading",children:"Loading your family tree..."})}):(0,xr.jsxs)("div",{className:"container",children:[_&&(0,xr.jsx)(Pr,{familyMembers:n,relationships:a,onDeleteMember:j,onSelectMember:w,selectedMember:y,onDeleteRelationship:C,onAddMember:()=>h(!0),onAddRelatedMember:e=>{w(e),p("add_new_related")},onAddExistingRelationship:e=>{w(e),p("add_existing_relation")},onEditMember:E,onClose:()=>{x(!1)},firstMember:k,isFullscreen:!0}),"none"!==f&&(0,xr.jsx)("div",{style:{position:"fixed",top:"80px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"flex-start",paddingTop:"20px",zIndex:1001},onClick:()=>p("none"),children:(0,xr.jsxs)("div",{style:{background:"white",color:"black",padding:"20px",border:"2px solid blue",borderRadius:"8px",maxWidth:"500px",width:"90%",maxHeight:"calc(80vh - 100px)",overflowY:"auto",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},onClick:e=>e.stopPropagation(),children:[(0,xr.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,xr.jsxs)("h3",{style:{color:"blue",margin:0,fontSize:"18px"},children:["add_new_related"===f?"Add New Member":"Add Existing Relationship",y&&` to ${y.first_name}`]}),(0,xr.jsx)("button",{onClick:()=>p("none"),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#666",padding:"5px"},children:"\xd7"})]}),(0,xr.jsx)(Rr,{mode:f,selectedFamilyMember:y,familyMembers:n,existingRelationships:a,onRelationAdded:e=>{S(),p("none"),w(null)},onCancel:()=>p("none")})]})}),(0,xr.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,xr.jsx)("h1",{style:{color:"#1f2937",marginBottom:"1rem"},children:"Your Family Tree"}),u&&(0,xr.jsx)("div",{className:"alert alert-error",children:u}),(0,xr.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,xr.jsx)("button",{onClick:()=>{h(!0),w(null)},className:"btn btn-primary",style:{marginRight:"10px"},children:"Add New Family Member"}),y&&(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("button",{onClick:()=>{p("add_new_related")},className:"btn btn-secondary",style:{marginRight:"10px"},children:["Add Related Member to ",y.first_name]}),(0,xr.jsxs)("button",{onClick:()=>{p("add_existing_relation")},className:"btn btn-secondary",style:{marginRight:"10px"},children:["Add Existing Relationship to ",y.first_name]}),(0,xr.jsx)("button",{onClick:()=>w(null),className:"btn btn-info",children:"Clear Selection"})]})]}),0===n.length?(0,xr.jsxs)("div",{className:"card",children:[(0,xr.jsx)("h3",{children:"Welcome to your Family Tree!"}),(0,xr.jsx)("p",{children:"Start by adding your first family member. You can add yourself, a parent, or any family member you'd like to begin with."}),(0,xr.jsx)("button",{onClick:()=>h(!0),className:"btn btn-primary",children:"Add Your First Family Member"})]}):(0,xr.jsx)(Tr,{familyMembers:n,relationships:a,onDeleteMember:j,onSelectMember:w,selectedMember:y,onDeleteRelationship:C,onAddMember:()=>h(!0),onAddRelatedMember:e=>{w(e),p("add_new_related")},onAddExistingRelationship:e=>{w(e),p("add_existing_relation")},onEditMember:E,onClosePopup:()=>w(null),firstMember:k,onFullscreen:()=>x(!0),isFullscreen:!1}),n.length>0&&(0,xr.jsxs)("div",{className:"card",children:[(0,xr.jsxs)("h3",{children:["Family Members (",n.length,")"]}),(0,xr.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"1rem"},children:n.map(e=>(0,xr.jsxs)("div",{className:"member-card",children:[(0,xr.jsxs)("h4",{children:[e.first_name," ",e.last_name]}),(0,xr.jsxs)("p",{children:[(0,xr.jsx)("strong",{children:"Gender:"})," ",e.gender]}),e.birth_date&&(0,xr.jsxs)("p",{children:[(0,xr.jsx)("strong",{children:"Birth Date:"})," ",new Date(e.birth_date).toLocaleDateString()]}),e.death_date&&(0,xr.jsxs)("p",{children:[(0,xr.jsx)("strong",{children:"Death Date:"})," ",new Date(e.death_date).toLocaleDateString()]}),(0,xr.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,xr.jsx)("button",{onClick:()=>w(e),className:"btn btn-secondary",style:{marginRight:"0.5rem"},children:"Select"}),(0,xr.jsx)("button",{onClick:()=>E(e),className:"btn btn-info",style:{marginRight:"0.5rem"},children:"Edit"}),(0,xr.jsx)("button",{onClick:()=>j(e.id),className:"btn btn-danger",children:"Delete"})]})]},e.id))})]}),d&&(0,xr.jsx)("div",{style:{position:"fixed",top:"80px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"flex-start",paddingTop:"20px",zIndex:1001},onClick:()=>h(!1),children:(0,xr.jsxs)("div",{style:{background:"white",color:"black",padding:"20px",border:"2px solid green",borderRadius:"8px",maxWidth:"500px",width:"90%",maxHeight:"calc(80vh - 100px)",overflowY:"auto",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},onClick:e=>e.stopPropagation(),children:[(0,xr.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,xr.jsx)("h3",{style:{color:"green",margin:0,fontSize:"18px"},children:"Add New Family Member"}),(0,xr.jsx)("button",{onClick:()=>h(!1),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#666",padding:"5px"},children:"\xd7"})]}),(0,xr.jsx)(Or,{onMemberAdded:e=>{r(t=>[...t,e]),h(!1),w(null)},onCancel:()=>h(!1)})]})}),m&&v&&(0,xr.jsx)("div",{style:{position:"fixed",top:"80px",left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"flex-start",paddingTop:"20px",zIndex:1001},onClick:()=>{g(!1),b(null)},children:(0,xr.jsxs)("div",{style:{background:"white",color:"black",padding:"20px",border:"2px solid orange",borderRadius:"8px",maxWidth:"500px",width:"90%",maxHeight:"calc(80vh - 100px)",overflowY:"auto",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},onClick:e=>e.stopPropagation(),children:[(0,xr.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[(0,xr.jsx)("h3",{style:{color:"orange",margin:0,fontSize:"18px"},children:"Edit Family Member"}),(0,xr.jsx)("button",{onClick:()=>{g(!1),b(null)},style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#666",padding:"5px"},children:"\xd7"})]}),(0,xr.jsx)($r,{member:v,onMemberUpdated:e=>{r(t=>t.map(t=>t.id===e.id?e:t)),g(!1),b(null)},onCancel:()=>{g(!1),b(null)}})]})})]})]})};const Ar=n.p+"static/media/logo.1792a55c7abdef39844e019664d48dc9.svg",Lr=n.p+"static/media/Binoopet.e371f11945afd75b43f3.gif";const Mr=function(){const{user:e,loading:t,signOut:n}=Sr(),r=ee(),[a,s]=(0,i.useState)(!1),o=(0,i.useRef)(null),l=(0,i.useRef)(!1);return t?(0,xr.jsx)("div",{className:"loading",children:"Loading..."}):(0,xr.jsxs)("div",{className:"App",children:[(0,xr.jsx)("nav",{className:"navbar",children:(0,xr.jsxs)("div",{className:"navbar-content",children:[(0,xr.jsx)("div",{className:"navbar-brand-container",onMouseEnter:()=>{console.log("Mouse entered logo area, isHovering:",l.current),l.current?console.log("Already hovering, ignoring"):(l.current=!0,console.log("Set isHovering to true"),o.current&&(clearTimeout(o.current),console.log("Cleared existing timeout")),o.current=setTimeout(()=>{console.log("Timeout fired, isHovering:",l.current),l.current&&(console.log("Showing overlay after delay"),s(!0))},3e3))},onMouseLeave:()=>{console.log("Mouse left logo area, isHovering:",l.current),l.current?(l.current=!1,console.log("Set isHovering to false"),o.current&&(clearTimeout(o.current),o.current=null,console.log("Cleared timeout")),console.log("Hiding overlay"),s(!1)):console.log("Was not hovering, ignoring")},onClick:()=>{r("/")},children:(0,xr.jsxs)("div",{className:"navbar-brand",children:[(0,xr.jsx)("img",{src:Ar,alt:"Family Tree Logo",className:"navbar-logo"}),(0,xr.jsx)("span",{children:"Family Tree"})]})}),(0,xr.jsx)("div",{className:"navbar-nav",children:e?(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsxs)("span",{className:"user-info",children:["Welcome, ",e.email]}),(0,xr.jsx)(Ne,{to:"/dashboard",children:"Dashboard"}),(0,xr.jsx)("button",{onClick:n,className:"btn btn-secondary",children:"Sign Out"})]}):(0,xr.jsxs)(xr.Fragment,{children:[(0,xr.jsx)(Ne,{to:"/login",children:"Login"}),(0,xr.jsx)(Ne,{to:"/signup",children:"Sign Up"})]})})]})}),a&&(0,xr.jsx)("div",{className:"hover-gif-overlay",style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4,animation:"fadeIn 0.3s ease-in-out",pointerEvents:"none"},children:(0,xr.jsx)("div",{className:"hover-gif-container",style:{display:"flex",justifyContent:"center",alignItems:"center",animation:"growIn 0.5s ease-out"},children:(0,xr.jsx)("div",{className:"hover-gif-content",children:(0,xr.jsx)("img",{src:Lr,alt:"Binoopet Animation",className:"hover-logo",style:{width:"300px",height:"300px",objectFit:"contain",animation:"pulse 2s infinite",filter:"drop-shadow(0 0 20px rgba(255, 255, 255, 0.5))"}})})})}),(0,xr.jsx)("main",{children:(0,xr.jsxs)(ve,{children:[(0,xr.jsx)(me,{path:"/",element:(0,xr.jsx)(jr,{})}),(0,xr.jsx)(me,{path:"/login",element:(0,xr.jsx)(Cr,{})}),(0,xr.jsx)(me,{path:"/signup",element:(0,xr.jsx)(Nr,{})}),(0,xr.jsx)(me,{path:"/dashboard",element:(0,xr.jsx)(Ir,{})})]})})]})},Fr=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:s}=t;n(e),r(e),i(e),a(e),s(e)})};s.createRoot(document.getElementById("root")).render((0,xr.jsx)(i.StrictMode,{children:(0,xr.jsx)(Ee,{basename:"/Family-Tree-Site",children:(0,xr.jsx)(Er,{children:(0,xr.jsx)(Mr,{})})})})),Fr()})();
//# sourceMappingURL=main.2c42b5dd.js.map